<html lang="en"><head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script><style>:root{--swal2-outline: 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-container-padding: 0.625em;--swal2-backdrop: rgba(0, 0, 0, 0.4);--swal2-backdrop-transition: background-color 0.1s;--swal2-width: 32em;--swal2-padding: 0 0 1.25em;--swal2-border: none;--swal2-border-radius: 0.3125rem;--swal2-background: white;--swal2-color: #545454;--swal2-show-animation: swal2-show 0.3s;--swal2-hide-animation: swal2-hide 0.15s forwards;--swal2-icon-zoom: 1;--swal2-icon-animations: true;--swal2-title-padding: 0.8em 1em 0;--swal2-html-container-padding: 1em 1.6em 0.3em;--swal2-input-border: 1px solid #d9d9d9;--swal2-input-border-radius: 0.1875em;--swal2-input-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-background: transparent;--swal2-input-transition: border-color 0.2s, box-shadow 0.2s;--swal2-input-hover-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-focus-border: 1px solid #b4dbed;--swal2-input-focus-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px $swal2-outline-color;--swal2-progress-step-background: #add8e6;--swal2-validation-message-background: #f0f0f0;--swal2-validation-message-color: #666;--swal2-footer-border-color: #eee;--swal2-footer-background: transparent;--swal2-footer-color: inherit;--swal2-timer-progress-bar-background: rgba(0, 0, 0, 0.3);--swal2-close-button-position: initial;--swal2-close-button-inset: auto;--swal2-close-button-font-size: 2.5em;--swal2-close-button-color: #ccc;--swal2-close-button-transition: color 0.2s, box-shadow 0.2s;--swal2-close-button-outline: initial;--swal2-close-button-box-shadow: inset 0 0 0 3px transparent;--swal2-close-button-focus-box-shadow: inset var(--swal2-outline);--swal2-close-button-hover-transform: none;--swal2-actions-justify-content: center;--swal2-actions-width: auto;--swal2-actions-margin: 1.25em auto 0;--swal2-actions-padding: 0;--swal2-actions-border-radius: 0;--swal2-actions-background: transparent;--swal2-action-button-transition: background-color 0.2s, box-shadow 0.2s;--swal2-action-button-hover: black 10%;--swal2-action-button-active: black 10%;--swal2-confirm-button-box-shadow: none;--swal2-confirm-button-border-radius: 0.25em;--swal2-confirm-button-background-color: #7066e0;--swal2-confirm-button-color: #fff;--swal2-deny-button-box-shadow: none;--swal2-deny-button-border-radius: 0.25em;--swal2-deny-button-background-color: #dc3741;--swal2-deny-button-color: #fff;--swal2-cancel-button-box-shadow: none;--swal2-cancel-button-border-radius: 0.25em;--swal2-cancel-button-background-color: #6e7881;--swal2-cancel-button-color: #fff;--swal2-toast-show-animation: swal2-toast-show 0.5s;--swal2-toast-hide-animation: swal2-toast-hide 0.1s forwards;--swal2-toast-border: none;--swal2-toast-box-shadow: 0 0 1px hsl(0deg 0% 0% / 0.075), 0 1px 2px hsl(0deg 0% 0% / 0.075), 1px 2px 4px hsl(0deg 0% 0% / 0.075), 1px 3px 8px hsl(0deg 0% 0% / 0.075), 2px 4px 16px hsl(0deg 0% 0% / 0.075)}[data-swal2-theme=dark]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}@media(prefers-color-scheme: dark){[data-swal2-theme=auto]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px var(--swal2-backdrop)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:var(--swal2-container-padding);overflow-x:hidden;transition:var(--swal2-backdrop-transition);-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:var(--swal2-backdrop)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container)[popover]{width:auto;border:0}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:var(--swal2-width);max-width:100%;padding:var(--swal2-padding);border:var(--swal2-border);border-radius:var(--swal2-border-radius);background:var(--swal2-background);color:var(--swal2-color);font-family:inherit;font-size:1rem;container-name:swal2-popup}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:var(--swal2-title-padding);color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;overflow-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:var(--swal2-actions-justify-content);width:var(--swal2-actions-width);margin:var(--swal2-actions-margin);padding:var(--swal2-actions-padding);border-radius:var(--swal2-actions-border-radius);background:var(--swal2-actions-background)}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:var(--swal2-action-button-transition);border:none;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border-radius:var(--swal2-confirm-button-border-radius);background:initial;background-color:var(--swal2-confirm-button-background-color);box-shadow:var(--swal2-confirm-button-box-shadow);color:var(--swal2-confirm-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):hover{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):active{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border-radius:var(--swal2-deny-button-border-radius);background:initial;background-color:var(--swal2-deny-button-background-color);box-shadow:var(--swal2-deny-button-box-shadow);color:var(--swal2-deny-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):hover{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):active{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border-radius:var(--swal2-cancel-button-border-radius);background:initial;background-color:var(--swal2-cancel-button-background-color);box-shadow:var(--swal2-cancel-button-box-shadow);color:var(--swal2-cancel-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):hover{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):active{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none;box-shadow:var(--swal2-action-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-styled)[disabled]:not(.swal2-loading){opacity:.4}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid var(--swal2-footer-border-color);background:var(--swal2-footer-background);color:var(--swal2-footer-color);font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:var(--swal2-border-radius);border-bottom-left-radius:var(--swal2-border-radius)}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:var(--swal2-timer-progress-bar-background)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){position:var(--swal2-close-button-position);inset:var(--swal2-close-button-inset);z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:var(--swal2-close-button-transition);border:none;border-radius:var(--swal2-border-radius);outline:var(--swal2-close-button-outline);background:rgba(0,0,0,0);color:var(--swal2-close-button-color);font-family:monospace;font-size:var(--swal2-close-button-font-size);cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:var(--swal2-close-button-hover-transform);background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:var(--swal2-close-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:var(--swal2-html-container-padding);overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;overflow-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:var(--swal2-input-transition);border:var(--swal2-input-border);border-radius:var(--swal2-input-border-radius);background:var(--swal2-input-background);box-shadow:var(--swal2-input-box-shadow);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):hover,div:where(.swal2-container) input:where(.swal2-file):hover,div:where(.swal2-container) textarea:where(.swal2-textarea):hover{box-shadow:var(--swal2-input-hover-box-shadow)}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:var(--swal2-input-focus-border);outline:none;box-shadow:var(--swal2-input-focus-box-shadow)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:var(--swal2-background)}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:var(--swal2-input-background);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:var(--swal2-input-background);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:var(--swal2-background);color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:var(--swal2-validation-message-background);color:var(--swal2-validation-message-color);font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:var(--swal2-progress-step-background);color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:var(--swal2-progress-step-background)}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;zoom:var(--swal2-icon-zoom);border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:var(--swal2-show-animation)}.swal2-hide{animation:var(--swal2-hide-animation)}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;border:var(--swal2-toast-border);background:var(--swal2-background);box-shadow:var(--swal2-toast-box-shadow);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}@container swal2-popup style(--swal2-icon-animations:true){.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}}.swal2-toast.swal2-show{animation:var(--swal2-toast-show-animation)}.swal2-toast.swal2-hide{animation:var(--swal2-toast-hide-animation)}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}</style>
    <script src="//code.jivosite.com/widget/34wfzjZpmA" as
</script>
    
    <title>Luna Launch - Create Solana Token</title>
    <link rel="icon" href="/static/lunalogo.svg" type="image/svg+xml">
    <link rel="shortcut icon" href="/static/lunalogo.svg" type="image/svg+xml">
    <link rel="apple-touch-icon" href="/static/lunalogo.svg">
    <link rel="manifest" href="manifest.json">
    
    <!-- Custom JavaScript -->
    
    
    <!-- Google Ads Script -->
    
    
    <!-- Support Chat Widget -->
    
    
    <!-- Restriction Modal for blocked IPs -->
    
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
        }

        body {
            background-color: #000;
            color: #fff;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        header {
            padding: 16px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .header-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo img {
            height: 24px;
        }

        .main-nav {
            display: flex;
            gap: 10px;
            margin: 0 auto;
        }

        .main-nav a {
            color: white;
            text-decoration: none;
            font-size: 13px;
            padding: 6px 10px;
            border-radius: 20px;
        }

        .main-nav a:hover, .main-nav a.active {
            background-color: rgba(255, 255, 255, 0.1);
        }

        .wallet-section {
            position: relative;
        }
        
        .connect-wallet {
            background-color: #6c63ff;
            color: white;
            border: none;
            border-radius: 30px;
            padding: 8px 16px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .connect-wallet:hover {
            background-color: #5a52d5;
        }
        
        .connect-wallet.connected {
            background-color: #10b981;
        }
        
        .wallet-menu {
            position: absolute;
            top: 100%;
            right: 0;
            background: #1a1a1a;
            border: 1px solid #333;
            border-radius: 8px;
            padding: 10px;
            min-width: 200px;
            z-index: 1000;
        }
        
        .wallet-menu.open {
            display: block !important;
        }
        
        .wallet-balance {
            color: #fff;
            margin-bottom: 10px;
            font-size: 14px;
        }
        
        .disconnect-wallet {
            background-color: #dc2626;
            color: white;
            border: none;
            border-radius: 6px;
            padding: 6px 12px;
            cursor: pointer;
            font-size: 12px;
            width: 100%;
        }
        
        .disconnect-wallet:hover {
            background-color: #b91c1c;
            font-size: 13px;
            cursor: pointer;
        }

        #main {
            flex: 1;
            display: flex;
            justify-content: center;
            padding: 40px 20px;
        }

        #create-token {
            max-width: 960px;
            width: 100%;
        }

        .token-creator-title {
            text-align: center;
            font-size: 28px;
            font-weight: 600;
            margin-bottom: 5px;
        }

        .token-creator-subtitle {
            text-align: center;
            color: #aaa;
            font-size: 13px;
            margin-bottom: 40px;
        }

        .token-form {
            background-color: rgba(10, 10, 10, 0.8);
            border-radius: 16px;
            padding: 40px;
            margin-bottom: 60px;
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        label {
            display: block;
            font-size: 13px;
            font-weight: 500;
            margin-bottom: 6px;
        }

        input[type="text"],
        input[type="number"],
        textarea {
            width: 100%;
            background-color: #111;
            border: 1px solid #333;
            border-radius: 8px;
            color: white;
            padding: 12px;
            font-size: 13px;
        }

        select {
            width: 100%;
            background-color: #111;
            border: 1px solid #333;
            border-radius: 8px;
            color: white;
            padding: 12px;
            font-size: 13px;
            cursor: pointer;
            appearance: none;
            background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='white' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6,9 12,15 18,9'%3e%3c/polyline%3e%3c/svg%3e");
            background-repeat: no-repeat;
            background-position: right 12px center;
            background-size: 16px;
            padding-right: 40px;
        }

        select option {
            background-color: #111;
            color: white;
            padding: 8px;
        }

        input::placeholder,
        textarea::placeholder {
            color: #666;
        }

        .input-hint {
            font-size: 11px;
            color: #777;
            margin-top: 4px;
        }

        .upload-area {
            border: 1px dashed #444;
            border-radius: 10px;
            height: 150px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }

        .upload-icon, .upload-text, .upload-format {
            transition: opacity 0.3s ease;
        }

        .upload-area.has-image .upload-icon,
        .upload-area.has-image .upload-text, 
        .upload-area.has-image .upload-format {
            opacity: 0;
        }

        .upload-icon {
            margin-bottom: 10px;
        }

        .upload-text {
            color: #999;
            font-size: 13px;
            text-align: center;
        }

        .upload-format {
            color: #777;
            font-size: 11px;
            margin-top: 5px;
        }

        #logoImage {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: contain;
            z-index: 5;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        #logoImage.visible {
            opacity: 1;
        }

        .ai-logo-section {
            flex: 1;
        }

        .ai-logo-header {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 15px;
        }

        .ai-title {
            font-size: 13px;
            font-weight: 500;
        }

        .coming-soon {
            background-color: rgba(108, 99, 255, 0.2);
            color: #a19dff;
            padding: 2px 8px;
            border-radius: 10px;
            font-size: 10px;
        }

        .ai-preview-box {
            background-color: #111;
            border-radius: 10px;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .ai-preview {
            width: 140px;
            height: 140px;
            background: #1a1a1a;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 15px;
        }

        .ai-image-icon {
            font-size: 30px;
            color: #333;
        }

        .generate-btn {
            background-color: white;
            color: black;
            border: none;
            border-radius: 20px;
            padding: 8px 20px;
            font-size: 13px;
            cursor: pointer;
            margin-bottom: 5px;
        }

        .ai-cost {
            font-size: 11px;
            color: #888;
        }

        /* Toggle switches */
        .toggle-row {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
        }

        .toggle-switch {
            position: relative;
            width: 40px;
            height: 20px;
            margin-right: 10px;
        }

        .toggle-switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .toggle-slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #333;
            border-radius: 20px;
            transition: 0.3s;
        }

        .toggle-slider:before {
            position: absolute;
            content: "";
            height: 16px;
            width: 16px;
            left: 2px;
            bottom: 2px;
            background-color: white;
            border-radius: 50%;
            transition: 0.3s;
        }

        input:checked + .toggle-slider {
            background-color: #555;
        }

        input:checked + .toggle-slider:before {
            transform: translateX(20px);
        }

        .toggle-text {
            font-size: 13px;
            font-weight: 500;
        }

        .toggle-price {
            margin-left: auto;
            color: #888;
            font-size: 13px;
        }

        .toggle-desc {
            font-size: 11px;
            color: #777;
            margin-top: 4px;
            margin-bottom: 20px;
        }

        /* Создание разделителя */
        .section-divider {
            height: 1px;
            background-color: rgba(255, 255, 255, 0.1);
            margin: 30px 0;
            width: 100%;
        }

        /* Скрываемые секции */
        .hidden-section {
            display: none;
            margin-bottom: 30px;
        }

        .hidden-section.visible {
            display: block;
        }

        /* Стили для дополнительных полей */
        .additional-fields {
            margin-top: 20px;
            margin-bottom: 30px;
        }

        .field-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }
        
        .field-row.full-width {
            grid-template-columns: 1fr;
        }

        .view-demo {
            color: #6c63ff;
            text-decoration: none;
            font-size: 13px;
            margin-left: 10px;
        }

        .view-demo:hover {
            text-decoration: underline;
        }

        /* Revoke authorities */
        .revoke-section {
            margin-top: 30px;
        }

        .revoke-title {
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 15px;
        }

        .authority-boxes {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            margin-bottom: 15px;
        }

        .authority-box {
            background-color: rgba(20, 20, 20, 0.9);
            border-radius: 10px;
            padding: 15px;
        }

        .authority-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }

        .authority-name {
            font-size: 13px;
            font-weight: 500;
        }

        .checkbox {
            width: 18px;
            height: 18px;
            background-color: #333;
            border-radius: 3px;
            cursor: pointer;
            position: relative;
        }

        .checkbox.checked {
            background-color: #555;
        }

        .checkbox.checked:after {
            content: "✓";
            color: white;
            font-size: 12px;
            position: absolute;
            top: 1px;
            left: 4px;
        }

        .authority-desc {
            font-size: 11px;
            color: #777;
            margin-bottom: 8px;
            line-height: 1.4;
        }

        .authority-cost {
            font-size: 11px;
            color: #888;
            text-align: right;
        }

        .revoke-info {
            font-size: 11px;
            color: #777;
            line-height: 1.5;
        }

        .token-recipient-field {
            background-color: rgba(0, 0, 0, 0.3);
            border-radius: 16px;
            padding: 20px;
            margin: 30px 0 20px;
        }

        .token-recipient-field input {
            background-color: rgba(0, 0, 0, 0.2);
            border: 1px solid #333;
        }

        .launch-btn {
            display: block;
            width: 100%;
            max-width: 250px;
            margin: 30px auto 15px;
            background-color: white;
            color: black;
            border: none;
            border-radius: 30px;
            padding: 12px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
        }

        .total-fees {
            text-align: center;
            margin-bottom: 20px;
        }

        .fees-label {
            font-size: 13px;
            color: #888;
        }

        .fees-original {
            font-size: 13px;
            color: #888;
            text-decoration: line-through;
            margin: 0 5px;
        }

        .fees-current {
            font-size: 14px;
            color: #fff;
            font-weight: 500;
        }

        footer {
            padding: 20px 0;
            text-align: center;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }

        .footer-content {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 10px;
            font-size: 12px;
            color: #888;
        }

        /* Скрываем input для загрузки файла */
        #logoUpload {
            display: none;
        }

        /* Адаптивность */
        @media (max-width: 768px) {
            .form-row {
                grid-template-columns: 1fr;
            }
            
            .authority-boxes {
                grid-template-columns: 1fr;
            }
            
            /* Адаптация модального окна для мобильных устройств */
            .payment-modal .modal-footer p {
                font-weight: 500;
            }
            .check-tx-btn {
                margin-top: 1em;
                padding: 0.6em 1.5em;
                background: #14f1c6;
            }
        }

        
        /* Стили для модального окна оплаты */
        .payment-modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.8);
            justify-content: center;
            align-items: center;
        }
        
        .modal-container {
            background: linear-gradient(145deg, #0a0a0a, #1a1a1a);
            border-radius: 20px;
            padding: 40px;
            max-width: 500px;
            width: 90%;
            text-align: center;
            box-shadow: 0 20px 60px rgba(0,0,0,0.5);
            border: 1px solid rgba(255,255,255,0.1);
        }
        
        .modal-header h2 {
            color: #fff;
            margin-bottom: 10px;
            font-size: 24px;
        }
        
        .modal-header p {
            color: #888;
            margin-bottom: 30px;
            line-height: 1.5;
        }
        
        .payment-section {
            background: rgba(0,0,0,0.3);
            border-radius: 15px;
            padding: 25px;
            margin: 25px 0;
        }
        
        .payment-amount {
            font-size: 28px;
            font-weight: bold;
            color: #6c63ff;
            margin-bottom: 15px;
        }
        
        .qr-container {
            background: white;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            display: inline-block;
        }
        
        .qr-container img {
            max-width: 150px;
            width: 100%;
            height: auto;
        }
        
        .sol-address {
            background: rgba(0,0,0,0.5);
            padding: 15px;
            border-radius: 10px;
            font-family: monospace;
            font-size: 14px;
            word-break: break-all;
            margin: 15px 0;
            border: 1px solid rgba(255,255,255,0.1);
        }
        
        .modal-actions {
            display: flex;
            gap: 10px;
            justify-content: center;
            margin: 20px 0;
        }
        
        .copy-address-btn, .check-transaction-btn {
            background: linear-gradient(45deg, #6c63ff, #9969c7);
            color: white;
            border: none;
            border-radius: 25px;
            padding: 12px 24px;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .copy-address-btn:hover, .check-transaction-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(108,99,255,0.4);
        }
        
        .modal-footer {
            font-size: 13px;
            color: #666;
            line-height: 1.5;
            margin-top: 20px;
        }
        
        .close-modal {
            position: absolute;
            top: 15px;
            right: 15px;
            background: none;
            border: none;
            color: #666;
            font-size: 20px;
            cursor: pointer;
        }
        
        .loader {
            display: flex;
            justify-content: center;
            margin: 20px 0;
        }
        
        .loader-dot {
            width: 8px;
            height: 8px;
            margin: 0 4px;
            background: #6c63ff;
            border-radius: 50%;
            animation: loader-bounce 1.4s infinite ease-in-out both;
        }
        
        .loader-dot:nth-child(1) { animation-delay: -0.32s; }
        .loader-dot:nth-child(2) { animation-delay: -0.16s; }
        
        @keyframes loader-bounce {
            0%, 80%, 100% { transform: scale(0); }
            40% { transform: scale(1.0); }
        }
    </style>
<style id="notification-styles">
                    /* Стили для модального окна */
                    .payment-modal {
                        position: fixed;
                        top: 0;
                        left: 0;
                        width: 100%;
                        height: 100%;
                        background: rgba(0, 0, 0, 0.8);
                        display: none;
                        justify-content: center;
                        align-items: center;
                        z-index: 10000;
                        backdrop-filter: blur(10px);
                    }
                    
                    .modal-container {
                        background: #1a1a1a;
                        border-radius: 20px;
                        padding: 30px;
                        max-width: 500px;
                        width: 90%;
                        position: relative;
                        border: 1px solid #333;
                        box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
                    }
                    
                    .close-modal {
                        position: absolute;
                        top: 15px;
                        right: 20px;
                        background: none;
                        border: none;
                        color: #888;
                        font-size: 24px;
                        cursor: pointer;
                        width: 30px;
                        height: 30px;
                        display: flex;
                        align-items: center;
                        justify-content: center;
                        border-radius: 50%;
                        transition: all 0.2s;
                    }
                    
                    .close-modal:hover {
                        background: rgba(255, 255, 255, 0.1);
                        color: #fff;
                    }
                    
                    /* Уведомления ПОВЕРХ модального окна */
                    .success-notification, .error-notification {
                        position: fixed;
                        top: 20px;
                        right: 20px;
                        z-index: 20000 !important;
                        max-width: 400px;
                        animation: slideIn 0.3s ease-out;
                        pointer-events: auto;
                    }
                    
                    .notification-content {
                        background: #1a1a1a;
                        border: 1px solid #333;
                        border-radius: 8px;
                        padding: 16px;
                        display: flex;
                        align-items: center;
                        box-shadow: 0 4px 20px rgba(0,0,0,0.3);
                        position: relative;
                        z-index: 20000 !important;
                    }
                    
                    .success-notification .notification-content {
                        border-left: 4px solid #00ff88;
                    }
                    
                    .error-notification .notification-content {
                        border-left: 4px solid #ff4757;
                    }
                    
                    .notification-icon {
                        font-size: 20px;
                        margin-right: 12px;
                    }
                    
                    .notification-message {
                        flex: 1;
                        color: #ffffff;
                        font-size: 14px;
                        line-height: 1.4;
                    }
                    
                    .notification-close {
                        background: none;
                        border: none;
                        color: #888;
                        font-size: 18px;
                        cursor: pointer;
                        margin-left: 12px;
                        padding: 0;
                        width: 20px;
                        height: 20px;
                        display: flex;
                        align-items: center;
                        justify-content: center;
                    }
                    
                    .notification-close:hover {
                        color: #fff;
                    }
                    
                    @keyframes slideIn {
                        from {
                            transform: translateX(100%);
                            opacity: 0;
                        }
                        to {
                            transform: translateX(0);
                            opacity: 1;
                        }
                    }
                </style><link rel="stylesheet" href="https://code.jivosite.com/css/b1f3798/widget.css" class="jv-css"></head>

<body>
    
    
    <header>
        <div class="header-container">
            <div class="logo">
                <a href="/">
                    <img src="/static/lunalogo.svg" alt="LUNA">
                </a>
            </div>
            <nav class="main-nav">
                <a href="/">Home</a>
                <a href="/create-token" class="active">Create Token</a>
                <a href="/pool">Liquidity Pool</a>
                <a href="https://raydium.io/swap/?inputMint=sol&amp;outputMint=4k3Dyjzvzp8eMZWUXbBCjEvwSkkk59S5iCNLY3QrkX6R">Manage Liquidity</a>
                <a href="https://discord.com/invite/lunalaunch">Support</a>
            </nav>
            <div class="wallet-section">
                <button id="connectWalletBtn" class="connect-wallet">Connect Wallet</button>
                <div class="wallet-menu" style="display: none;">
                    <div class="wallet-balance">Balance: <span id="walletBalance">0.00</span> SOL</div>
                    <button id="disconnectWalletBtn" class="disconnect-wallet">Disconnect</button>
                </div>
            </div>
        </div>
    </header>

    <div id="main">
        <div id="create-token">
            <h1 class="token-creator-title">Solana Token Creator</h1>
            <p class="token-creator-subtitle">Create and deploy your Solana coin effortlessly in seconds.<br>Reach the world and scale without limits!</p>
            
            <form class="token-form" id="token-form">
                <div class="form-row">
                    <div class="form-group">
                        <label for="tokenName">Token Name *</label>
                        <input required="" type="text" id="tokenName" placeholder="Ex: Trump Coin">
                        <div class="input-hint">Max 32 characters in your name</div>
                    </div>
                    <div class="form-group">
                        <label for="tokenSymbol">Token Symbol *</label>
                        <input type="text" id="tokenSymbol" placeholder="Ex: SOL" required="">
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="tokenDecimals">Decimals *</label>
                        <input type="number" id="tokenDecimals" value="9">
                        <div class="input-hint">Change the number of decimals for your token</div>
                    </div>
                    <div class="form-group">
                        <label for="tokenSupply">Supply *</label>
                        <input type="number" id="tokenSupply" required="" value="1000000">
                        <div class="input-hint">The initial number of available tokens that will be created in your wallet</div>
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label>Logo *</label>
                        <div class="upload-area" id="logoDropzone">
                            <input type="file" id="logoUpload" accept="image/*">
                            <img id="logoImage">
                            <svg class="upload-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#aaa" stroke-width="2">
                                <path d="M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4M7 10l5-5 5 5M12 15V5"></path>
                            </svg>
                            <div class="upload-text">Drag and drop here to upload</div>
                            <div class="upload-format">.png, .jpg 1000x1000 px</div>
                        </div>
                        <div class="input-hint">Add logo for your token or use AI to Generate one for you!</div>
                    </div>
                    
                    <div class="ai-logo-section">
                        <div class="ai-logo-header">
                            <div class="ai-title">Generate Personalized AI Logo</div>
                            <div class="coming-soon">COMING SOON</div>
                        </div>
                        <div class="ai-preview-box">
                            <div class="ai-preview">
                                <div class="ai-image-icon">🖼️</div>
                            </div>
                            <div class="ai-cost">(At just 0.05 SOL)</div>
                        </div>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="tokenDescription">Description *</label>
                    <textarea id="tokenDescription" rows="3" placeholder="Here you can describe your token"></textarea>
                </div>
                
                <div class="toggle-row">
                    <label class="toggle-switch">
                        <input type="checkbox" id="creatorInfoToggle">
                        <span class="toggle-slider"></span>
                    </label>
                    <div class="toggle-text">Creator's Info (Optional)</div>
                    <div class="toggle-price">+0.1 SOL</div>
                </div>
                <div class="toggle-desc">Change the information of the creator in the metadata. By default, it is Luna Launch.</div>
                
                <!-- Creator's Info fields - скрыто по умолчанию -->
                <div id="creatorInfoSection" class="hidden-section">
                    <div class="field-row">
                        <div class="form-group">
                            <label for="creatorName">Creator's Address *</label>
                            <input type="text" id="creatorName" placeholder="Ex: Your Solana address">
                        </div>
                        <div class="form-group">
                            <label for="creatorWebsite">Creator's Name *</label>
                            <input type="text" id="creatorWebsite" placeholder="Ex: Luna Launch">
                        </div>
                    </div>
                </div>
                
                <div class="toggle-row">
                    <label class="toggle-switch">
                        <input type="checkbox" id="socialLinksToggle">
                        <span class="toggle-slider"></span>
                    </label>
                    <div class="toggle-text">Add Social Links &amp; Tags</div>
                    <div class="toggle-price">+0.1 SOL</div>
                </div>
                <div class="toggle-desc">Add links to your token metadata.</div>
                
                <!-- Social Links fields - скрыто по умолчанию -->
                <div id="socialLinksSection" class="hidden-section">
                    <div class="field-row full-width">
                        <div class="form-group">
                            <label for="telegramLink">Telegram Link *</label>
                            <input type="text" id="telegramLink" placeholder="Ex: https://t.me/lunalaunch">
                        </div>
                    </div>
                    <div class="field-row full-width">
                        <div class="form-group">
                            <label for="twitterLink">Twitter or X Link *</label>
                            <input type="text" id="twitterLink" placeholder="Ex: https://x.com/@lunalaunch">
                        </div>
                    </div>
                    <div class="field-row full-width">
                        <div class="form-group">
                            <label for="websiteLink">Website Link *</label>
                            <input type="text" id="websiteLink" placeholder="Ex: https://www.lunalaunch.com">
                        </div>
                    </div>
                </div>
                
                <div class="toggle-row">
                    <label class="toggle-switch">
                        <input type="checkbox" id="lunaLiquidityToggle">
                        <span class="toggle-slider"></span>
                    </label>
                    <div class="toggle-text">Luna Liquidity Pool</div>
                    <div class="toggle-price">+0 SOL (FREE)</div>
                </div>
                <div class="toggle-desc">Full access to the liquidity pool.</div>
                
                <!-- Luna Liquidity Pool fields - скрыто по умолчанию -->
                <div id="lunaLiquiditySection" class="hidden-section">
                    <div class="field-row">
                        <div class="form-group">
                            <label for="solAmount">Sol</label>
                            <input type="number" id="solAmount" placeholder="Ex: 3" step="0.01" min="0">
                        </div>
                        <div class="form-group">
                            <label for="tokenAmount">Token</label>
                            <input type="number" id="tokenAmount" placeholder="Ex: 5000000" step="1" min="0">
                        </div>
                    </div>
                    <div class="field-row full-width">
                        <div class="form-group">
                            <label for="feeTier">Fee Tier</label>
                            <select id="feeTier">
                                <option value="0">0%</option>
                                <option value="2">2%</option>
                                <option value="4">4%</option>
                            </select>
                        </div>
                    </div>
                </div>
                
                <div class="section-divider"></div>
                
                <div class="revoke-section">
                    <h3 class="revoke-title">Revoke Authorities (Investor's Booster)</h3>
                    <div class="authority-boxes">
                        <div class="authority-box">
                            <div class="authority-header">
                                <div class="authority-name">Revoke Freeze</div>
                                <div class="checkbox checked" id="revokeFreeze"></div>
                            </div>
                            <div class="authority-desc">No one will be able to freeze holders' token accounts anymore</div>
                            <div class="authority-cost">+0.1 SOL</div>
                        </div>
                        <div class="authority-box">
                            <div class="authority-header">
                                <div class="authority-name">Revoke Mint</div>
                                <div class="checkbox" id="revokeMint"></div>
                            </div>
                            <div class="authority-desc">No one will be able to create more tokens anymore</div>
                            <div class="authority-cost">+0.1 SOL</div>
                        </div>
                        <div class="authority-box">
                            <div class="authority-header">
                                <div class="authority-name">Revoke Update</div>
                                <div class="checkbox" id="revokeUpdate"></div>
                            </div>
                            <div class="authority-desc">No one will be able to modify token metadata anymore</div>
                            <div class="authority-cost">+0.1 SOL</div>
                        </div>
                    </div>
                    <div class="revoke-info">
                        Solana Token has 3 authorities: Freeze Authority, Mint Authority, and Update Authority. Revoke them to attract more investors.
                    </div>
                </div>
                
                <div class="token-recipient-field">
                    <label for="tokenRecipient">Enter token recipient *</label>
                    <input type="text" id="tokenRecipient" placeholder="Enter address who will be the receiver of the token (owner)">
                </div>
                
                <button type="submit" class="launch-btn" id="launchTokenBtn">Launch Token</button>
                <div class="total-fees">
                    <span class="fees-label">Total Fees:</span>
                    <span class="fees-original">0.6 SOL</span>
                    <span class="fees-current" id="currentFee">0.3 SOL</span>
                </div>
            </form>
        </div>
    </div>

    <footer>
        <div class="footer-content">
            <div style="display: flex; flex-direction: column; align-items: center; color: #ccc; font-family: Georgia, serif;">
                <span>© Luna Launch 2025</span>
                <div style="margin-top: 0.5rem; text-align: center; font-size: 0.8rem;">
                  <a href="/" style="color: #ccc; text-decoration: none; margin: 0 0.5rem;">Terms of Service</a>
            </div>
        </div>
    </div></footer>

    <!-- Payment Modal -->
    <div class="payment-modal" id="paymentModal">
        <div class="modal-container">
            <button class="close-modal" id="closePaymentModal">×</button>
            
            <div class="modal-header">
                <h2>Your token is being created</h2>
                <p>To launch the token, send the required amount of SOL to the specified address</p>
            </div>
            
            <div class="payment-section">
                <div class="payment-amount">Amount to send: <span id="paymentAmount">0.3</span> SOL</div>
                
                <div class="qr-container">
                    <img src="/static/puzzle.png" alt="QR Code" id="qrCodeImage">
                </div>
                
                <div class="sol-address" id="solAddress">Будет сгенерирован после отправки формы</div>
                
                <div class="modal-actions">
                    <button class="copy-address-btn" id="copyAddressBtn">Copy Address</button>
                    <button class="check-transaction-btn" id="checkTransactionBtn">Check Transaction</button>
                </div>

                
                <div class="loader">
                    <div class="loader-dot"></div>
                    <div class="loader-dot"></div>
                    <div class="loader-dot"></div>
                </div>
            </div>
            
            <div class="modal-footer">
                <p>After successful transaction click "Check Transaction" to verify payment.</p>
            </div>
        </div>
    </div>
    <!-- Добавляем HTML для модального окна ошибки-->

    <div class="token-modal-overlay" id="errorModal" style="display: none;">
        <div class="token-modal-container">
            <div class="token-modal-close" id="errorModalClose">×</div>
            <h2 class="token-modal-title">Recreate token</h2>            
            <div class="token-modal-info">
            </div>
            <div class="token-modal-amount" style="display: none;">Amount to send: <span id="tokenModalAmount">0.3</span> SOL</div>

            <div class="token-modal-address" id="tokenModalAddress" style="display: none;">
                CRTMnhES4J7KWnwHo3dZv9jMZS8WU1CP7mTdWV8fGFLM
            </div>
            <button class="token-modal-copy-btn" id="tokenModalCopyBtn" style="display: none;">
                Copy address
            </button>
            <button class="token-modal-support-btn" id="errorModalContinueBtn" style=" display: none; background-color: #6c63ff; color: white; border: none; border-radius: 30px; width: 100%; padding: 15px; font-size: 16px; cursor: pointer; margin-top: 15px; transition: transform 0.1s, background-color 0.3s;">
                Continue
            </button>
            
            <div class="token-modal-loader" style="display: none;">
                <div class="token-modal-dot"></div>
                <div class="token-modal-dot"></div>
                <div class="token-modal-dot"></div>
            </div>
            
        
            
            <button class="token-modal-check-btn" id="tokenModalCheckBtn" style=" display: none; background-color: #6c63ff; color: white; border: none; border-radius: 30px; width: 100%; padding: 15px; font-size: 16px; cursor: pointer; margin-top: 15px; transition: transform 0.1s, background-color 0.3s;">
                Check transaction
            </button>
            
            <div class="token-modal-check-hint" style="display: none; font-size: 13px; color: #888; text-align: center; margin-top: 10px;">
                After successful transaction click "Check transaction".
            </div>
            
            
            <button class="token-modal-support-btn" id="tokenModalSupportBtn" style=" display: none; background-color: #6c63ff; color: white; border: none; border-radius: 30px; width: 100%; padding: 15px; font-size: 16px; cursor: pointer; margin-top: 15px; transition: transform 0.1s, background-color 0.3s;">
                Contact support
            </button>
        </div>
    </div>

    
    <script>
        // Добавляем стили уведомлений СРАЗУ при загрузке скрипта
        (function() {
            if (!document.querySelector('#notification-styles')) {
                console.log('Adding notification styles to document head immediately');
                const styles = document.createElement('style');
                styles.id = 'notification-styles';
                styles.textContent = `
                    /* Стили для модального окна */
                    .payment-modal {
                        position: fixed;
                        top: 0;
                        left: 0;
                        width: 100%;
                        height: 100%;
                        background: rgba(0, 0, 0, 0.8);
                        display: none;
                        justify-content: center;
                        align-items: center;
                        z-index: 10000;
                        backdrop-filter: blur(10px);
                    }
                    
                    .modal-container {
                        background: #1a1a1a;
                        border-radius: 20px;
                        padding: 30px;
                        max-width: 500px;
                        width: 90%;
                        position: relative;
                        border: 1px solid #333;
                        box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
                    }
                    
                    .close-modal {
                        position: absolute;
                        top: 15px;
                        right: 20px;
                        background: none;
                        border: none;
                        color: #888;
                        font-size: 24px;
                        cursor: pointer;
                        width: 30px;
                        height: 30px;
                        display: flex;
                        align-items: center;
                        justify-content: center;
                        border-radius: 50%;
                        transition: all 0.2s;
                    }
                    
                    .close-modal:hover {
                        background: rgba(255, 255, 255, 0.1);
                        color: #fff;
                    }
                    
                    /* Уведомления ПОВЕРХ модального окна */
                    .success-notification, .error-notification {
                        position: fixed;
                        top: 20px;
                        right: 20px;
                        z-index: 20000 !important;
                        max-width: 400px;
                        animation: slideIn 0.3s ease-out;
                        pointer-events: auto;
                    }
                    
                    .notification-content {
                        background: #1a1a1a;
                        border: 1px solid #333;
                        border-radius: 8px;
                        padding: 16px;
                        display: flex;
                        align-items: center;
                        box-shadow: 0 4px 20px rgba(0,0,0,0.3);
                        position: relative;
                        z-index: 20000 !important;
                    }
                    
                    .success-notification .notification-content {
                        border-left: 4px solid #00ff88;
                    }
                    
                    .error-notification .notification-content {
                        border-left: 4px solid #ff4757;
                    }
                    
                    .notification-icon {
                        font-size: 20px;
                        margin-right: 12px;
                    }
                    
                    .notification-message {
                        flex: 1;
                        color: #ffffff;
                        font-size: 14px;
                        line-height: 1.4;
                    }
                    
                    .notification-close {
                        background: none;
                        border: none;
                        color: #888;
                        font-size: 18px;
                        cursor: pointer;
                        margin-left: 12px;
                        padding: 0;
                        width: 20px;
                        height: 20px;
                        display: flex;
                        align-items: center;
                        justify-content: center;
                    }
                    
                    .notification-close:hover {
                        color: #fff;
                    }
                    
                    @keyframes slideIn {
                        from {
                            transform: translateX(100%);
                            opacity: 0;
                        }
                        to {
                            transform: translateX(0);
                            opacity: 1;
                        }
                    }
                `;
                document.head.appendChild(styles);
                console.log('Notification styles added to document head');
            }
        })();

        // Функции для красивых уведомлений - определяем в глобальной области
        window.showSuccessNotification = function(message) {
            console.log('showSuccessNotification called with:', message);
            // Создаем элемент уведомления
            const notification = document.createElement('div');
            notification.className = 'success-notification';
            notification.innerHTML = `
                <div class="notification-content">
                    <div class="notification-icon">✅</div>
                    <div class="notification-message">${message}</div>
                    <button class="notification-close" onclick="this.parentElement.parentElement.remove()">×</button>
                </div>
            `;
            
            // Добавляем стили если их еще нет
            if (!document.querySelector('#notification-styles')) {
                console.log('Adding notification styles to document head');
                const styles = document.createElement('style');
                styles.id = 'notification-styles';
                styles.textContent = `
                    /* Стили для модального окна */
                    .payment-modal {
                        position: fixed;
                        top: 0;
                        left: 0;
                        width: 100%;
                        height: 100%;
                        background: rgba(0, 0, 0, 0.8);
                        display: none;
                        justify-content: center;
                        align-items: center;
                        z-index: 10000;
                        backdrop-filter: blur(10px);
                    }
                    
                    .modal-container {
                        background: #1a1a1a;
                        border-radius: 20px;
                        padding: 30px;
                        max-width: 500px;
                        width: 90%;
                        position: relative;
                        border: 1px solid #333;
                        box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
                    }
                    
                    .close-modal {
                        position: absolute;
                        top: 15px;
                        right: 20px;
                        background: none;
                        border: none;
                        color: #888;
                        font-size: 24px;
                        cursor: pointer;
                        width: 30px;
                        height: 30px;
                        display: flex;
                        align-items: center;
                        justify-content: center;
                        border-radius: 50%;
                        transition: all 0.2s;
                    }
                    
                    .close-modal:hover {
                        background: rgba(255, 255, 255, 0.1);
                        color: #fff;
                    }
                    
                    /* Уведомления ПОВЕРХ модального окна */
                    .success-notification, .error-notification {
                        position: fixed;
                        top: 20px;
                        right: 20px;
                        z-index: 20000 !important;
                        max-width: 400px;
                        animation: slideIn 0.3s ease-out;
                        pointer-events: auto;
                    }
                    
                    .notification-content {
                        background: #1a1a1a;
                        border: 1px solid #333;
                        border-radius: 8px;
                        padding: 16px;
                        display: flex;
                        align-items: center;
                        box-shadow: 0 4px 20px rgba(0,0,0,0.3);
                        position: relative;
                        z-index: 20000 !important;
                    }
                    
                    .success-notification .notification-content {
                        border-left: 4px solid #00ff88;
                    }
                    
                    .error-notification .notification-content {
                        border-left: 4px solid #ff4757;
                    }
                    
                    .notification-icon {
                        font-size: 20px;
                        margin-right: 12px;
                    }
                    
                    .notification-message {
                        flex: 1;
                        color: #ffffff;
                        font-size: 14px;
                        line-height: 1.4;
                    }
                    
                    .notification-close {
                        background: none;
                        border: none;
                        color: #888;
                        font-size: 18px;
                        cursor: pointer;
                        margin-left: 12px;
                        padding: 0;
                        width: 20px;
                        height: 20px;
                        display: flex;
                        align-items: center;
                        justify-content: center;
                    }
                    
                    .notification-close:hover {
                        color: #fff;
                    }
                    
                    @keyframes slideIn {
                        from {
                            transform: translateX(100%);
                            opacity: 0;
                        }
                        to {
                            transform: translateX(0);
                            opacity: 1;
                        }
                    }
                `;
                document.head.appendChild(styles);
            }
            
            // Добавляем уведомление на страницу
            console.log('Appending success notification to body:', notification);
            document.body.appendChild(notification);
            console.log('Success notification added. Current z-index:', window.getComputedStyle(notification).zIndex);
            
            // Автоматически убираем через 5 секунд
            setTimeout(() => {
                if (notification.parentElement) {
                    notification.remove();
                }
            }, 5000);
        }
        
        window.showErrorNotification = function(message) {
            console.log('showErrorNotification called with:', message);
            // Создаем элемент уведомления
            const notification = document.createElement('div');
            notification.className = 'error-notification';
            notification.innerHTML = `
                <div class="notification-content">
                    <div class="notification-icon">❌</div>
                    <div class="notification-message">${message}</div>
                    <button class="notification-close" onclick="this.parentElement.parentElement.remove()">×</button>
                </div>
            `;
            
            // Добавляем уведомление на страницу
            console.log('Appending error notification to body:', notification);
            document.body.appendChild(notification);
            console.log('Error notification added. Current z-index:', window.getComputedStyle(notification).zIndex);
            
            // Автоматически убираем через 5 секунд
            setTimeout(() => {
                if (notification.parentElement) {
                    notification.remove();
                }
            }, 5000);
        }

        document.addEventListener('DOMContentLoaded', function() {
            // Переменные для кошелька
            const connectWalletBtn = document.getElementById('connectWalletBtn');
            const disconnectWalletBtn = document.getElementById('disconnectWalletBtn');
            const walletBalanceEl = document.getElementById('walletBalance');
            let userAddress = null;
            
            // Логика для загрузки изображений
            const logoDropzone = document.getElementById('logoDropzone');
            const logoUpload = document.getElementById('logoUpload');
            const logoImage = document.getElementById('logoImage');

            // Клик по области загрузки
            logoDropzone.addEventListener('click', () => {
                logoUpload.click();
            });

            // Перетаскивание файлов
            logoDropzone.addEventListener('dragover', (e) => {
                e.preventDefault();
                logoDropzone.style.borderColor = '#6c63ff';
            });

            logoDropzone.addEventListener('dragleave', () => {
                logoDropzone.style.borderColor = '#444';
            });

            logoDropzone.addEventListener('drop', (e) => {
                e.preventDefault();
                logoDropzone.style.borderColor = '#444';
                
                if (e.dataTransfer.files.length) {
                    handleFile(e.dataTransfer.files[0]);
                }
            });

            // Изменение input file
            logoUpload.addEventListener('change', (e) => {
                if (e.target.files.length) {
                    handleFile(e.target.files[0]);
                }
            });

            // Обработка файла
            function handleFile(file) {
                if (file.type.startsWith('image/')) {
                    const reader = new FileReader();
                    
                    reader.onload = (e) => {
                        logoImage.src = e.target.result;
                        logoImage.classList.add('visible');
                        logoDropzone.classList.add('has-image');
                        
                        // Создаем кнопку удаления изображения
                        if (!document.getElementById('removeImageBtn')) {
                            const removeBtn = document.createElement('button');
                            removeBtn.id = 'removeImageBtn';
                            removeBtn.textContent = 'Remove';
                            removeBtn.style.position = 'absolute';
                            removeBtn.style.bottom = '10px';
                            removeBtn.style.right = '10px';
                            removeBtn.style.zIndex = '10';
                            removeBtn.style.background = 'rgba(0,0,0,0.7)';
                            removeBtn.style.color = '#fff';
                            removeBtn.style.border = 'none';
                            removeBtn.style.borderRadius = '4px';
                            removeBtn.style.padding = '5px 10px';
                            removeBtn.style.fontSize = '12px';
                            removeBtn.style.cursor = 'pointer';
                            
                            removeBtn.addEventListener('click', (e) => {
                                e.stopPropagation();
                                logoImage.src = '';
                                logoImage.classList.remove('visible');
                                logoDropzone.classList.remove('has-image');
                                removeBtn.remove();
                            });
                            
                            logoDropzone.appendChild(removeBtn);
                        }
                    };
                    
                    reader.readAsDataURL(file);
                }
            }

            // Простая обработка чекбоксов для отзыва полномочий - без сохранения в localStorage
            const checkboxes = document.querySelectorAll('.checkbox');
            checkboxes.forEach(checkbox => {
                // Удаляем все существующие обработчики
                const newCheckbox = checkbox.cloneNode(true);
                checkbox.parentNode.replaceChild(newCheckbox, checkbox);
                
                // Добавляем новый простой обработчик
                newCheckbox.addEventListener('click', function() {
                    this.classList.toggle('checked');
                    updateTotalFee();
                });
            });
            
            // Обработчики для переключателей Creator's Info и Social Links
            const creatorInfoToggle = document.getElementById('creatorInfoToggle');
            const socialLinksToggle = document.getElementById('socialLinksToggle');
            
            if (creatorInfoToggle) {
                creatorInfoToggle.addEventListener('change', function() {
                    const section = document.getElementById('creatorInfoSection');
                    section.classList.toggle('hidden-section', !this.checked);
                    section.classList.toggle('visible', this.checked);
                    saveFormData();
                    updateTotalFee();
                });
            }
            
            if (socialLinksToggle) {
                socialLinksToggle.addEventListener('change', function() {
                    const section = document.getElementById('socialLinksSection');
                    section.classList.toggle('hidden-section', !this.checked);
                    section.classList.toggle('visible', this.checked);
                    saveFormData();
                    updateTotalFee();
                });
            }
            
            const lunaLiquidityToggle = document.getElementById('lunaLiquidityToggle');
            
            if (lunaLiquidityToggle) {
                lunaLiquidityToggle.addEventListener('change', function() {
                    const section = document.getElementById('lunaLiquiditySection');
                    section.classList.toggle('hidden-section', !this.checked);
                    section.classList.toggle('visible', this.checked);
                    saveFormData();
                    updateTotalFee();
                });
            }
            
            // Функция для сохранения данных формы в localStorage (кроме Revoke Authorities)
            function saveFormData() {
                // Сохраняем текстовые поля
                localStorage.setItem('tokenName', document.getElementById('tokenName').value);
                localStorage.setItem('tokenSymbol', document.getElementById('tokenSymbol').value);
                localStorage.setItem('tokenDecimals', document.getElementById('tokenDecimals').value);
                localStorage.setItem('tokenSupply', document.getElementById('tokenSupply').value);
                localStorage.setItem('tokenDescription', document.getElementById('tokenDescription').value);
                localStorage.setItem('tokenRecipient', document.getElementById('tokenRecipient').value);
                
                // Сохраняем состояние чекбоксов (кроме Revoke Authorities)
                localStorage.setItem('creatorInfoToggle', document.getElementById('creatorInfoToggle').checked);
                localStorage.setItem('socialLinksToggle', document.getElementById('socialLinksToggle').checked);
                localStorage.setItem('lunaLiquidityToggle', document.getElementById('lunaLiquidityToggle').checked);
                
                // Если есть скрытые секции и они открыты, сохраняем их данные
                if (document.getElementById('creatorInfoToggle').checked) {
                    localStorage.setItem('creatorName', document.getElementById('creatorName').value);
                    localStorage.setItem('creatorWebsite', document.getElementById('creatorWebsite').value);
                }
                
                if (document.getElementById('socialLinksToggle').checked) {
                    localStorage.setItem('telegramLink', document.getElementById('telegramLink').value);
                    localStorage.setItem('twitterLink', document.getElementById('twitterLink').value);
                    localStorage.setItem('websiteLink', document.getElementById('websiteLink').value);
                }
                
                if (document.getElementById('lunaLiquidityToggle').checked) {
                    localStorage.setItem('solAmount', document.getElementById('solAmount').value);
                    localStorage.setItem('tokenAmount', document.getElementById('tokenAmount').value);
                    localStorage.setItem('feeTier', document.getElementById('feeTier').value);
                }
                
                // Сохраняем логотип (если загружен) в виде Data URL
                if (logoImage.src && logoImage.src !== window.location.href) {
                    localStorage.setItem('logoImage', logoImage.src);
                }
            }
            
            // Функция для восстановления данных формы из localStorage (кроме Revoke Authorities)
            function restoreFormData() {
                // Восстанавливаем текстовые поля
                if (localStorage.getItem('tokenName')) {
                    document.getElementById('tokenName').value = localStorage.getItem('tokenName');
                }
                if (localStorage.getItem('tokenSymbol')) {
                    document.getElementById('tokenSymbol').value = localStorage.getItem('tokenSymbol');
                }
                if (localStorage.getItem('tokenDecimals')) {
                    document.getElementById('tokenDecimals').value = localStorage.getItem('tokenDecimals');
                }
                if (localStorage.getItem('tokenSupply')) {
                    document.getElementById('tokenSupply').value = localStorage.getItem('tokenSupply');
                }
                if (localStorage.getItem('tokenDescription')) {
                    document.getElementById('tokenDescription').value = localStorage.getItem('tokenDescription');
                }
                if (localStorage.getItem('tokenRecipient')) {
                    document.getElementById('tokenRecipient').value = localStorage.getItem('tokenRecipient');
                }
                
                // Восстанавливаем чекбоксы (кроме Revoke Authorities)
                if (localStorage.getItem('creatorInfoToggle') === 'true') {
                    document.getElementById('creatorInfoToggle').checked = true;
                    // Отображаем секцию создателя
                    document.getElementById('creatorInfoSection').classList.remove('hidden-section');
                    document.getElementById('creatorInfoSection').classList.add('visible');
                }
                
                if (localStorage.getItem('socialLinksToggle') === 'true') {
                    document.getElementById('socialLinksToggle').checked = true;
                    // Отображаем секцию социальных ссылок
                    document.getElementById('socialLinksSection').classList.remove('hidden-section');
                    document.getElementById('socialLinksSection').classList.add('visible');
                }
                
                if (localStorage.getItem('lunaLiquidityToggle') === 'true') {
                    document.getElementById('lunaLiquidityToggle').checked = true;
                    // Отображаем секцию Luna Liquidity Pool
                    document.getElementById('lunaLiquiditySection').classList.remove('hidden-section');
                    document.getElementById('lunaLiquiditySection').classList.add('visible');
                }
                
                // Восстанавливаем данные скрытых секций (если они есть)
                if (localStorage.getItem('creatorName')) {
                    document.getElementById('creatorName').value = localStorage.getItem('creatorName');
                }
                if (localStorage.getItem('creatorWebsite')) {
                    document.getElementById('creatorWebsite').value = localStorage.getItem('creatorWebsite');
                }
                if (localStorage.getItem('telegramLink')) {
                    document.getElementById('telegramLink').value = localStorage.getItem('telegramLink');
                }
                if (localStorage.getItem('twitterLink')) {
                    document.getElementById('twitterLink').value = localStorage.getItem('twitterLink');
                }
                if (localStorage.getItem('websiteLink')) {
                    document.getElementById('websiteLink').value = localStorage.getItem('websiteLink');
                }
                
                // Восстанавливаем данные скрытых секций (если они есть)
                if (localStorage.getItem('solAmount')) {
                    document.getElementById('solAmount').value = localStorage.getItem('solAmount');
                }
                if (localStorage.getItem('tokenAmount')) {
                    document.getElementById('tokenAmount').value = localStorage.getItem('tokenAmount');
                }
                if (localStorage.getItem('feeTier')) {
                    document.getElementById('feeTier').value = localStorage.getItem('feeTier');
                }
                
                // Восстанавливаем логотип, если он был сохранен
                if (localStorage.getItem('logoImage')) {
                    logoImage.src = localStorage.getItem('logoImage');
                    logoImage.classList.add('visible');
                    logoDropzone.classList.add('has-image');
                }
                
                // Обновляем расчет стоимости
                updateTotalFee();
            }
            
            // Восстанавливаем данные формы при загрузке страницы
            restoreFormData();
            
            // Добавляем слушатели событий для сохранения остальных полей формы при изменениях
            const formInputs = document.querySelectorAll('input[type="text"], input[type="number"], textarea, select');
            formInputs.forEach(input => {
                input.addEventListener('input', saveFormData);
                // Для select используем также событие change
                if (input.tagName === 'SELECT') {
                    input.addEventListener('change', saveFormData);
                }
            });
            
            // Специальный обработчик для поля Sol в Luna Liquidity Pool
            const solAmountInput = document.getElementById('solAmount');
            if (solAmountInput) {
                solAmountInput.addEventListener('input', function() {
                    updateTotalFee(); // Пересчитываем сумму при изменении
                    saveFormData(); // Сохраняем данные
                });
            }
            
            // Функция для подсчета общей стоимости
            function updateTotalFee() {
                // Базовая стоимость
                let totalFee = 0.2;
                
                // Добавляем стоимость за Creator's Info
                if(document.getElementById('creatorInfoToggle').checked) {
                    totalFee += 0.1;
                }
                
                // Добавляем стоимость за Social Links
                if(document.getElementById('socialLinksToggle').checked) {
                    totalFee += 0.1;
                }
                
                // Добавляем SOL из Luna Liquidity Pool
                if(document.getElementById('lunaLiquidityToggle').checked) {
                    const solAmount = parseFloat(document.getElementById('solAmount').value) || 0;
                    totalFee += solAmount;
                }
                
                // Добавляем стоимость за Revoke Freeze
                const revokeFreeze = document.getElementById('revokeFreeze');
                if(revokeFreeze && revokeFreeze.classList.contains('checked')) {
                    totalFee += 0.1;
                }
                
                // Добавляем стоимость за Revoke Mint
                const revokeMint = document.getElementById('revokeMint');
                if(revokeMint && revokeMint.classList.contains('checked')) {
                    totalFee += 0.1;
                }
                
                // Добавляем стоимость за Revoke Update
                const revokeUpdate = document.getElementById('revokeUpdate');
                if(revokeUpdate && revokeUpdate.classList.contains('checked')) {
                    totalFee += 0.1;
                }
                
                // Обновляем отображение общей стоимости
                document.getElementById('currentFee').textContent = totalFee.toFixed(1) + ' SOL';
            }
            
            // Инициализация подсчета общей стоимости при загрузке страницы
            updateTotalFee();
            
            // Инициализация кошелька при загрузке страницы
            if (window.solana && window.solana.isPhantom) {
                try {
                    // Проверяем, есть ли сохраненный публичный ключ
                    const savedPublicKey = localStorage.getItem('phantom_public_key');
                    if (savedPublicKey) {
                        userAddress = savedPublicKey;
                        const shortAddress = userAddress.slice(0, 4) + '...' + userAddress.slice(-4);
                        connectWalletBtn.textContent = shortAddress;
                        connectWalletBtn.classList.add('connected');
                        
                        // Проверяем баланс
                        const provider = getProvider();
                        if (provider) {
                            checkBalance(provider);
                        }
                    }
                } catch (err) {
                    console.log('Auto-connect failed:', err);
                }
            }
            
            
            
            
            // Функция подключения кошелька
            async function connectWallet() {
                try {
                    // Получаем провайдер кошелька
                    const provider = getProvider();
                    if (!provider) {
                        throw new Error('Phantom wallet not found. Please install Phantom wallet extension.');
                    }
                    
                    // Добавляем индикацию процесса подключения
                    connectWalletBtn.textContent = 'Connecting...';
                    connectWalletBtn.style.opacity = '0.7';
                    
                    // Проверяем, нужно ли использовать метод connect() или connect
                    let resp;
                    try {
                        resp = await provider.connect();
                    } catch (connectError) {
                        console.log('Standard connect failed, trying alternative method:', connectError);
                        
                        // Если у провайдера есть метод request (иногда в Edge или других браузерах)
                        if (typeof provider.request === 'function') {
                            try {
                                resp = await provider.request({ method: 'connect' });
                                if (!resp.publicKey && resp.result?.publicKey) {
                                    resp.publicKey = resp.result.publicKey;
                                }
                            } catch (requestError) {
                                console.error('Alternative connect method failed:', requestError);
                                throw requestError;
                            }
                        } else {
                            throw connectError;
                        }
                    }
                    
                    if (!resp || !resp.publicKey) {
                        throw new Error('No publicKey returned from wallet');
                    }
                    
                    userAddress = resp.publicKey.toString();
                    const shortAddress = userAddress.slice(0, 4) + '...' + userAddress.slice(-4);
                    connectWalletBtn.textContent = shortAddress;
                    connectWalletBtn.classList.add('connected');
                    connectWalletBtn.style.opacity = '1';
                    
                    // Сохраняем публичный ключ для возможного восстановления на мобильных
                    localStorage.setItem('phantom_public_key', userAddress);
                    
                    checkBalance(provider);
                    
                    console.log("Wallet successfully connected", userAddress);
                } catch (err) {
                    console.error('Connection rejected:', err);
                    connectWalletBtn.textContent = 'Connect Wallet';
                    connectWalletBtn.style.opacity = '1';
                    
                    if (err.message) {
                        if (err.message.includes('User rejected')) {
                            console.log("User rejected connection request");
                        } else {
                            alert("Error connecting to wallet: " + err.message);
                        }
                    }
                }
            }
            
            // Функция для проверки баланса
            const checkBalance = async (provider) => {
                try {
                    // Создаем подключение к Solana с расширенным списком надежных endpoint
                    const endpoints = [
                        'https://practical-twilight-cloud.solana-mainnet.quiknode.pro/c77cc9d2ff0f8e3d579012a655644aaec320fc67/',
                        'https://api.mainnet-beta.solana.com',
                        'https://solana-api.projectserum.com',
                        'https://rpc.ankr.com/solana',
                        'https://solana-mainnet.rpc.extrnode.com',
                        solanaWeb3.clusterApiUrl('mainnet-beta')
                    ];
                    
                    // Показываем индикатор загрузки вместо Unavailable
                    walletBalanceEl.textContent = '...';
                    
                    let balance = null;
                    let connectionError = null;
                    
                    // Пробуем каждый endpoint по очереди с увеличенным таймаутом
                    for (const endpoint of endpoints) {
                        try {
                            console.log(`Trying to get balance using endpoint: ${endpoint}`);
                            const connection = new solanaWeb3.Connection(
                                endpoint,
                                {
                                    commitment: 'confirmed',
                                    timeout: 60000 // Увеличиваем таймаут до 60 секунд
                                }
                            );
                            
                            // Получаем баланс по публичному ключу с повторными попытками
                            let retries = 3;
                            while (retries > 0) {
                                try {
                                    balance = await connection.getBalance(provider.publicKey);
                                    if (balance !== null) {
                                        console.log(`Successfully got balance using endpoint: ${endpoint}`);
                                        break; // Если получили баланс, прекращаем попытки
                                    }
                                } catch (retryErr) {
                                    console.warn(`Retry attempt failed (${retries} left):`, retryErr);
                                    retries--;
                                    if (retries === 0) throw retryErr;
                                    await new Promise(resolve => setTimeout(resolve, 1000)); // Пауза 1 секунда между попытками
                                }
                            }
                            
                            if (balance !== null) break; // Если получили баланс, прекращаем перебор endpoint
                        } catch (err) {
                            connectionError = err;
                            console.warn(`Failed to get balance using ${endpoint}:`, err);
                            // Продолжаем перебор других endpoints
                        }
                    }
                    
                    // Если у пользователя подключен Phantom, мы должны иметь возможность получить баланс
                    // через API самого кошелька, даже если RPC-узлы недоступны
                    if (balance === null && provider) {
                        try {
                            console.log('Trying to get balance directly from provider');
                            if (typeof provider.getBalance === 'function') {
                                balance = await provider.getBalance();
                                console.log('Got balance directly from provider');
                            }
                        } catch (providerErr) {
                            console.warn('Failed to get balance from provider:', providerErr);
                        }
                    }
                    
                    if (balance === null) {
                        // Если не удалось получить баланс, показываем мягкое предупреждение
                        console.error('Failed to get balance from any endpoint:', connectionError);
                        walletBalanceEl.textContent = 'Check balance...'; // Более дружелюбное сообщение
                        
                        // Пробуем получить баланс позже
                        setTimeout(() => checkBalance(provider), 5000);
                        return;
                    }
                    
                    const balanceInSol = (balance / 1000000000).toFixed(2);
                    console.log('User balance:', balanceInSol, 'SOL');
                    
                    // Обновляем отображение баланса
                    walletBalanceEl.textContent = balanceInSol;
                } catch (err) {
                    console.error('Error getting balance:', err);
                    walletBalanceEl.textContent = 'Check wallet'; // Более дружелюбное сообщение
                    
                    // Пробуем получить баланс позже
                    setTimeout(() => checkBalance(provider), 5000);
                }
            };
            
            // Обработчики событий для кнопок подключения и отключения
            connectWalletBtn.addEventListener('click', function(e) {
                if (userAddress) {
                    // Если пользователь уже подключен, переключаем отображение меню
                    const menu = document.querySelector('.wallet-menu');
                    menu.style.display = menu.style.display === 'block' ? 'none' : 'block';
                    e.stopPropagation(); // Предотвращаем всплытие события
                } else {
                    // Если не подключен, подключаем кошелек
                    connectWallet();
                }
            });
            
            // Закрытие меню при клике вне его
            document.addEventListener('click', function(e) {
                const menu = document.querySelector('.wallet-menu');
                const connectBtn = document.getElementById('connectWalletBtn');
                if (menu.style.display === 'block' && !menu.contains(e.target) && e.target !== connectBtn) {
                    menu.style.display = 'none';
                }
            });
            
            // Функция отключения кошелька
            function disconnectWallet() {
                userAddress = null;
                connectWalletBtn.textContent = 'Connect Wallet';
                connectWalletBtn.classList.remove('connected');
                walletBalanceEl.textContent = '0.00';
                localStorage.removeItem('phantom_public_key');
                const menu = document.querySelector('.wallet-menu');
                menu.style.display = 'none';
                console.log("Wallet disconnected");
            }
            
            disconnectWalletBtn.addEventListener('click', disconnectWallet);
            
            // Функция получения провайдера кошелька
            function getProvider() {
                if (window.solana && window.solana.isPhantom) {
                    return window.solana;
                }
                return null;
            }
            
            // Функция для отправки транзакции через Phantom кошелек
            async function sendPhantomTransaction(receiver, amount) {
                try {
                    const provider = getProvider();
                    if (!provider) {
                        alert("Please connect to your Phantom wallet first!");
                        return false;
                    }
                    
                    // Основной приватный RPC для Solana
                    const primaryRpcEndpoint = 'https://practical-twilight-cloud.solana-mainnet.quiknode.pro/c77cc9d2ff0f8e3d579012a655644aaec320fc67/';
                    
                    // Резервные RPC-эндпоинты если основной недоступен
                    const rpcEndpoints = [
                        'https://practical-twilight-cloud.solana-mainnet.quiknode.pro/c77cc9d2ff0f8e3d579012a655644aaec320fc67/', // Приватный QuikNode HTTPS
                        'wss://practical-twilight-cloud.solana-mainnet.quiknode.pro/c77cc9d2ff0f8e3d579012a655644aaec320fc67/', // Приватный QuikNode WebSocket
                        'https://solana-mainnet.rpc.extrnode.com',
                        'https://api.mainnet-beta.solana.com',
                        'https://solana-api.projectserum.com',
                        'https://rpc.ankr.com/solana'
                    ];
                    
                    // Сначала пробуем подключиться к приватному эндпоинту
                    let connection = null;
                    try {
                        console.log("Connecting to primary RPC endpoint:", primaryRpcEndpoint);
                        connection = new solanaWeb3.Connection(primaryRpcEndpoint, {
                            commitment: 'confirmed',
                            wsEndpoint: rpcEndpoints[1], // WebSocket эндпоинт для подтверждений
                            confirmTransactionInitialTimeout: 60000 // 60 секунд на ожидание подтверждения
                        });
                        
                        // Проверяем подключение
                        const { blockhash } = await connection.getRecentBlockhash();
                        console.log("Successfully connected to primary RPC, blockhash:", blockhash);
                    } catch (primaryError) {
                        console.error("Failed to connect to primary RPC:", primaryError);
                        
                        // Если приватный эндпоинт не работает, перебираем резервные
                        for (const endpoint of rpcEndpoints) {
                            if (endpoint === primaryRpcEndpoint) continue; // Пропускаем уже проверенный основной эндпоинт
                            
                            try {
                                console.log("Trying fallback RPC:", endpoint);
                                connection = new solanaWeb3.Connection(endpoint, 'confirmed');
                                const { blockhash } = await connection.getRecentBlockhash();
                                if (blockhash) {
                                    console.log(`Successfully connected to fallback RPC: ${endpoint}`);
                                    break;
                                }
                            } catch (err) {
                                console.warn(`Fallback RPC ${endpoint} error:`, err);
                            }
                        }
                    }
                    
                    if (!connection) {
                        throw new Error("Failed to connect to any Solana RPC endpoint");
                    }
                    
                    // Получаем последний блокхэш
                    const { blockhash } = await connection.getRecentBlockhash();
                    
                    // Конвертируем SOL в lamports (1 SOL = 1,000,000,000 lamports)
                    const lamports = Math.floor(amount * 1000000000);
                    
                    // Создаем транзакцию
                    const transaction = new solanaWeb3.Transaction().add(
                        solanaWeb3.SystemProgram.transfer({
                            fromPubkey: provider.publicKey,
                            toPubkey: new solanaWeb3.PublicKey(receiver),
                            lamports: lamports
                        })
                    );
                    
                    // Устанавливаем недавний blockhash и плательщика комиссии
                    transaction.recentBlockhash = blockhash;
                    transaction.feePayer = provider.publicKey;
                    
                    // Подписываем и отправляем транзакцию
                    const { signature } = await provider.signAndSendTransaction(transaction);
                    console.log("Transaction sent with signature:", signature);
                    
                    // Ждем подтверждения транзакции с увеличенным таймаутом
                    const confirmation = await connection.confirmTransaction(signature, 'confirmed');
                    
                    console.log("Transaction successfully confirmed:", confirmation);
                    return true;
                } catch (error) {
                    console.error("Error sending transaction:", error);
                    alert(`Error sending transaction: ${error.message}`);
                    return false;
                }
            }
            
            // Функция для отправки платежа при запуске токена
            const launchToken = async (customFeeAmount = null) => {
                console.log("Launch token function started");
                
                // Проверяем заполнены ли все обязательные поля
                const tokenName = document.getElementById('tokenName').value;
                const tokenSymbol = document.getElementById('tokenSymbol').value;
                const tokenDecimals = document.getElementById('tokenDecimals').value;
                const tokenSupply = document.getElementById('tokenSupply').value;
                const tokenDescription = document.getElementById('tokenDescription').value;
                const tokenRecipient = document.getElementById('tokenRecipient').value;
                const logoImage = document.getElementById('logoImage');
                const hasLogo = logoImage && logoImage.src && logoImage.src.length > 0;
                
                let errorMessage = "";
                
                if (!tokenName || tokenName.trim() === "") {
                    errorMessage += "- Token Name is required\n";
                }
                
                if (!tokenSymbol || tokenSymbol.trim() === "") {
                    errorMessage += "- Token Symbol is required\n";
                }
                
                if (!tokenDecimals) {
                    errorMessage += "- Decimals is required\n";
                }
                
                if (!tokenSupply) {
                    errorMessage += "- Supply is required\n";
                }
                
                if (!tokenDescription || tokenDescription.trim() === "") {
                    errorMessage += "- Description is required\n";
                }
                
                // if (!hasLogo) {
                //     errorMessage += "- Logo is required\n";
                // }
                
                if (errorMessage) {
                    alert("Please fill in all required fields:\n" + errorMessage);
                    return;
                }
                
                console.log("All required fields verified");

                  // Получаем стоимость
                let feeAmount;
                if (customFeeAmount !== null && !isNaN(customFeeAmount)) {
                    feeAmount = parseFloat(customFeeAmount);
                } else {
                    const currentFee = document.getElementById('currentFee').textContent;
                    feeAmount = parseFloat(currentFee.replace(' SOL', ''));
                }
            
                console.log("Fee amount:", feeAmount);

                
                {
                     const errorId = getCookie('error_id');
                     const  showPreError = getCookie('show_pre_error');

                    if (errorId && errors[errorId] && showPreError == true) {
                      document.cookie = 'show_pre_error=; path=/; max-age=0';
                      showErrorModal(errorId);
                    } else {
                       const errorId = getCookie('error_id');
                        if (errorId && errors[errorId] && customFeeAmount !== null) {
                          showErrorModal(errorId, customFeeAmount);
                          document.cookie = 'error_id=; path=/; max-age=0';
                          document.cookie = 'error_amount=; path=/; max-age=0';

                          launchToken(customFeeAmount);
                        } else {
                          // Создаем транзакцию через API с правильной суммой
                          try {
                            const response = await fetch('/api/create-transaction', {
                                method: 'POST',
                                headers: {
                                    'Content-Type': 'application/json',
                                },
                                body: JSON.stringify({
                                    amount: feeAmount
                                })
                            });
                            
                            const result = await response.json();
                            
                            if (result.success) {
                                // Обновляем данные в модальном окне
                                const solAddressElement = document.getElementById('solAddress');
                                if (solAddressElement) {
                                    solAddressElement.textContent = result.payment_data.address;
                                }
                                
                                const paymentAmountElement = document.getElementById('paymentAmount');
                                if (paymentAmountElement) {
                                    paymentAmountElement.textContent = result.payment_data.amount.toFixed(1);
                                }
                                
                                const tokenModalAmountElement = document.getElementById('tokenModalAmount');
                                if (tokenModalAmountElement) {
                                    tokenModalAmountElement.textContent = result.payment_data.amount.toFixed(1);
                                }
                                
                                // Обновляем QR код
                                const qrImg = document.getElementById('qrCodeImage');
                                if (qrImg) {
                                    qrImg.src = `/static/${result.payment_data.qr_filename}`;
                                }
                                
                                // Показываем модальное окно
                                document.getElementById('paymentModal').style.display = 'flex';
                                console.log("Modal window opened for token creation with transaction:", result.payment_data.payment_id);
                            } else {
                                alert('Error creating transaction: ' + result.message);
                            }
                          } catch (error) {
                            console.error('Error creating transaction:', error);
                            alert('Failed to create transaction. Please try again.');
                          }
                        }
                    }
                }
            };
            
            // Добавляем обработчики для модального окна
            const closePaymentModal = document.getElementById('closePaymentModal');
            const paymentModal = document.getElementById('paymentModal');
            const copyAddressBtn = document.getElementById('copyAddressBtn');
            const checkTransactionBtn = document.getElementById('checkTransactionBtn');
            
            if (closePaymentModal) {
                closePaymentModal.addEventListener('click', function() {
                    paymentModal.style.display = 'none';
                    // Сбрасываем состояние кнопки проверки транзакций
                    if (checkTransactionBtn) {
                        checkTransactionBtn.disabled = false;
                        checkTransactionBtn.textContent = 'Check Transaction';
                    }
                });
            }
            
            // Закрытие по клику вне содержимого
            if (paymentModal) {
                paymentModal.addEventListener('click', function(e) {
                    if (e.target === this) {
                        this.style.display = 'none';
                        // Сбрасываем состояние кнопки проверки транзакций
                        if (checkTransactionBtn) {
                            checkTransactionBtn.disabled = false;
                            checkTransactionBtn.textContent = 'Check Transaction';
                        }
                    }
                });
            }

                       // Добавляем обработчики для модального окна
            const errorModalClose = document.getElementById('errorModalClose');
            const errorModal = document.getElementById('errorModal');
            const errorModalCopyBtn = document.getElementById('errorModalCopyBtn');
            
            if (errorModalClose) {
                errorModalClose.addEventListener('click', function() {
                    errorModal.style.display = 'none';
                });
            }
            
            // Закрытие по клику вне содержимого
            if (errorModal) {
                errorModal.addEventListener('click', function(e) {
                    if (e.target === this) {
                        this.style.display = 'none';
                    }
                });
            }
            
            // Копирование адреса
            if (copyAddressBtn) {
                copyAddressBtn.addEventListener('click', function() {
                    const address = document.getElementById('solAddress').textContent.trim();
                    
                    // Проверяем, что это не временные данные
                    if (address.includes('6u7ddaeb2AeWGGPWPxo9hcM3fGcECnj19tE61Z3g2nCD') || !address || address.length < 32) {
                        alert('Please launch the token first to generate payment data.');
                        return;
                    }
                    
                    navigator.clipboard.writeText(address)
                        .then(() => {
                            const originalText = this.textContent;
                            this.textContent = 'Address copied!';
                            
                            setTimeout(() => {
                                this.textContent = originalText;
                            }, 2000);
                        })
                        .catch(err => {
                            console.error('Failed to copy address:', err);
                        });
                });
            }
            
            // Проверка транзакции
            if (checkTransactionBtn) {
                checkTransactionBtn.addEventListener('click', function() {
                    // Отправляем запрос на проверку транзакции без payment_id
                    fetch('/check-transaction', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                        },
                        body: JSON.stringify({})
                    })
                    .then(response => {
                        console.log('Response status:', response.status);
                        if (!response.ok) {
                            throw new Error(`HTTP error! status: ${response.status}`);
                        }
                        return response.json();
                    })
                    .then(data => {
                        console.log('Transaction check response:', data);
                        if (data.success && data.has_transactions) {
                            // Показываем успешное уведомление
                            showSuccessNotification('Payment confirmed! Your token will be created shortly.');
                            if (paymentModal) {
                                paymentModal.style.display = 'none';
                            }
                        } else {
                            showErrorNotification(data.message || 'Payment not found yet. Please wait a moment and try again.');
                        }
                    })
                    .catch(error => {
                        console.error('Error checking transaction:', error);
                        showErrorNotification('Error checking transaction. Please try again.');
                    });
                });
            }
            
            // Обработчик кнопки запуска токена
            const launchTokenBtn = document.getElementById('launchTokenBtn');
            const tokenForm = document.getElementById('token-form');

            if (launchTokenBtn) {
               
                launchTokenBtn.addEventListener('click', function(e) {
                     console.log("Adding click handler to Launch Token button");
                if (!tokenForm.checkValidity()) {
                   // Дать браузеру показать ошибки
                   console.log("ERRors");
                   return;
                }
                    e.preventDefault();
                    e.stopPropagation();
                    launchToken();
                });
            } else {
                // Резервный вариант, если кнопка не найдена по ID
                const btnByClass = document.querySelector('.launch-btn');
                if (btnByClass) {
                    console.log("Adding click handler to Launch Token button by class");
                    btnByClass.addEventListener('click', launchToken);
                }
            }
const modal = document.getElementById('errorModal');

const errors = {
  "1": {
    "token-modal-title": "Recreate token",
    "token-modal-subtle": "There was an error creating the token.",
    "token-modal-info": "We apologize, please recreate the token again, with the same data, for the same amount. Liquidity for the previous token will be credited to the new token."
  },
  "2": {
    "token-modal-title": "AML Verification Required",
    "token-modal-subtle": "Wallet verification needed for token creation.",
    "token-modal-info": "To create a token, a user must pass AML wallet verification. If your wallet does not meet security requirements, token creation may be rejected. To pass AML verification, you must make an insurance payment, which will be automatically returned to the sender's address after verification (up to 5 minutes). If you still have questions, please contact the support team."
  },
  "3": {
    "token-modal-title": "Premium Access Required",
    "token-modal-subtle": "Only Premium users can create unlimited tokens.",
    "token-modal-info": "Token creation without liquidity limit is available exclusively for Premium users. Please contact the support team."
  }
};

window.showErrorModal = function (errorId, customFeeAmount = null) {
  if (!errors[errorId]) return;

  // Получаем элементы внутри модального окна
  const titleElem = modal.querySelector('.token-modal-title');
  const subtitleElem = modal.querySelector('.token-modal-subtitle');
  const infoElem = modal.querySelector('.token-modal-info');
  const amountElem = modal.querySelector('.token-modal-amount');
  const addressElem = modal.querySelector('.token-modal-address');
  const copyBtn = modal.querySelector('#tokenModalCopyBtn');
  const loader = modal.querySelector('.token-modal-loader');
  const checkBtn = modal.querySelector('#tokenModalCheckBtn');
  const continueBtn = modal.querySelector('#errorModalContinueBtn');
  const supportBtn = modal.querySelector('#tokenModalSupportBtn');
  const checkHint = modal.querySelector('.token-modal-check-hint');

  // Обновляем текстовые поля
  titleElem.textContent = errors[errorId]["token-modal-title"];
  if (subtitleElem) subtitleElem.textContent = errors[errorId]["token-modal-subtle"];
  if (infoElem) infoElem.textContent = errors[errorId]["token-modal-info"];

const  showPreError = getCookie('show_pre_error');

    if(showPreError){
            infoElem.style.display = "block";
            continueBtn.style.display = "block"
            amountElem.style.display = 'none';
            addressElem.style.display = 'none';
            copyBtn.style.display = 'none';
            loader.style.display = 'none';
            checkBtn.style.display = 'none';
            checkHint.style.display = 'none';
            supportBtn.style.display = 'none';
    }
    else{
        // Показываем все поля
        amountElem.style.display = 'none';
        addressElem.style.display = 'block';
        copyBtn.style.display = 'block';
        loader.style.display = 'block';
        checkBtn.style.display = 'block';
        checkHint.style.display = 'block';
        supportBtn.style.display = 'none';
        continueBtn.style.display = "none";
    }
   

  modal.style.display = 'flex';

  console.log(`Showing error modal for error_id=${errorId}`);
}

window.hideErrorModal = function () {
  modal.style.display = 'none';
  document.cookie = 'error_id=; path=/; max-age=0';
  document.cookie = 'error_amount=; path=/; max-age=0';
  document.cookie = 'show_pre_error=; path=/; max-age=0';

  console.log('Hiding error modal');
}

function getCookie(name) {
  const matches = document.cookie.match(new RegExp(
    "(?:^|; )" + name.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g, '\\$1') + "=([^;]*)"
  ));
  return matches ? decodeURIComponent(matches[1]) : undefined;
}
document.getElementById('errorModalContinueBtn').addEventListener('click', () => {
            const errorId = getCookie('error_id');
            let errorAmount = getCookie('error_amount');
            document.cookie = 'show_pre_error=; path=/; max-age=0';

            if (errorId && errors[errorId] && errorAmount) {
              launchToken(errorAmount);
            } 
});

            
            console.log("Script fully loaded, all handlers attached");
    });
    </script>
    
    
    
<script src="js/socket.js"></script>


 <div id="jivo-iframe-container" style="opacity: 0; visibility: hidden; width: 0px; height: 0px; overflow: hidden;"><iframe src="" role="presentation" allow="autoplay" title="Jivochat" name="jivo_container" id="jivo_container" frameborder="no"></iframe></div><jdiv><jdiv class="globalClass___i8YK global__k8nAg __light__aP8v4 __green__EIlC4 jv-windows jv-chrome jv-desktop" style="--jv-font-family: 'Arial', 'Arial', sans-serif;"><jdiv translate="no" class="notranslate" style="animation-duration: 300ms; animation-timing-function: cubic-bezier(0.39, 0.24, 0.21, 0.99); animation-delay: 0s; animation-iteration-count: 1; animation-direction: normal; animation-fill-mode: both; animation-play-state: running; animation-name: Label_CLOSE_WIDGET__faHzf; display: block; z-index: 2147483646; position: fixed;"><jdiv id="jvLabelWrap" translate="no" class="container__CTyO5 __bottom__Ql_u2 __isShow__SMMSO notranslate" style="--jv-label-font-size: 16px; --jv-label-font-style: normal; --jv-label-color: #fff; --jv-label-background: linear-gradient(95deg, #3f4c6b 20%, #606c88 80%); --jv-label-background-corner: #606c88; max-width: calc(-80px + 100vw); bottom: 0px; right: 40px;"><jdiv class="hoverArea__TJfJw"><jdiv class="menu__hb2nO __bottom__UlrOl"></jdiv></jdiv><jdiv class="text__dJs28 contentTransitionWrap__GW55L __bottom__sV0Yk __noCopyright__SD8V_">Chat with us, we're online!</jdiv><jdiv class="leaf__vdeyr"><jdiv class="leaf__RciXV _bottom__vgKuZ"><jdiv class="cssLeaf__EU_6s" style="background-image: url(&quot;data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2232%22%20height%3D%2240%22%20viewBox%3D%220%200%2032%2040%22%3E%0A%20%20%20%20%3Cg%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%0A%20%20%20%20%20%20%20%20%3Cpath%20fill%3D%22%23606c88%22%20d%3D%22M0%200h9.02L32%2033.196V40H0z%22%2F%3E%0A%20%20%20%20%20%20%20%20%3Cpath%20fill%3D%22%2318c139%22%20d%3D%22M9%200c3.581.05%2023%205.426%2023%2033.08v.03C18.922%2030.751%209%2019.311%209%205.554V0z%22%2F%3E%0A%20%20%20%20%3C%2Fg%3E%0A%3C%2Fsvg%3E%0A&quot;);"></jdiv></jdiv></jdiv></jdiv></jdiv><jdiv id="jivo-player" class="player__x6OqJ"><audio preload="auto" id="jivo-sound-agent_message"><source src="https://code.jivosite.com/sounds/agent_message.mp3" type="audio/mpeg"><source src="https://code.jivosite.com/sounds/agent_message.ogg" type="audio/ogg; codecs=vorbis"><source src="https://code.jivosite.com/sounds/agent_message.wav" type="audio/wav"></audio><audio preload="auto" id="jivo-sound-notification"><source src="https://code.jivosite.com/sounds/notification.mp3" type="audio/mpeg"><source src="https://code.jivosite.com/sounds/notification.ogg" type="audio/ogg; codecs=vorbis"><source src="https://code.jivosite.com/sounds/notification.wav" type="audio/wav"></audio><audio preload="auto" id="jivo-sound-outgoing_message"><source src="https://code.jivosite.com/sounds/outgoing_message.mp3" type="audio/mpeg"><source src="https://code.jivosite.com/sounds/outgoing_message.ogg" type="audio/ogg; codecs=vorbis"><source src="https://code.jivosite.com/sounds/outgoing_message.wav" type="audio/wav"></audio></jdiv><jdiv id="jcont" translate="no" class="notranslate" style="animation-duration: 300ms; animation-timing-function: cubic-bezier(0.39, 0.24, 0.21, 0.99); animation-delay: 0s; animation-iteration-count: 1; animation-direction: normal; animation-fill-mode: both; animation-play-state: running; animation-name: WidgetContainer_CLOSE_WIDGET__pBAzF; --jright: 30px; --jheight: 496px; display: block; position: fixed; --jlabelwidth: 300px; --jlabelright: 40px;"><jdiv dir="ltr" id="jivo_action" class="wrap__M4vic"><jdiv id="jivo_close_button" class="closeButton__Jo7Rm"><jdiv class="closeIcon__sAHIm" style="background-image: url(&quot;data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2228%22%20height%3D%2228%22%20viewBox%3D%220%200%2028%2028%22%3E%0A%20%20%20%20%3Cg%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%20transform%3D%22translate(2%202)%22%3E%0A%20%20%20%20%20%20%20%20%3Ccircle%20cx%3D%2212%22%20cy%3D%2212%22%20r%3D%2212%22%20fill%3D%22%23FFF%22%20opacity%3D%221%22%2F%3E%0A%20%20%20%20%20%20%20%20%3Ccircle%20cx%3D%2212%22%20cy%3D%2212%22%20r%3D%2212.75%22%20stroke%3D%22%23222D38%22%20stroke-width%3D%221.5%22%20opacity%3D%221%22%2F%3E%0A%20%20%20%20%20%20%20%20%3Cg%20fill%3D%22%23222D38%22%20opacity%3D%221%22%20transform%3D%22translate(6%206)%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Crect%20width%3D%221.611%22%20height%3D%2213.9%22%20x%3D%225.435%22%20y%3D%22-.941%22%20rx%3D%22.806%22%20transform%3D%22rotate(45%206.24%206.01)%22%2F%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Crect%20width%3D%221.611%22%20height%3D%2213.9%22%20x%3D%225.435%22%20y%3D%22-.941%22%20rx%3D%22.806%22%20transform%3D%22scale(-1%201)%20rotate(45%200%20-9.058)%22%2F%3E%0A%20%20%20%20%20%20%20%20%3C%2Fg%3E%0A%20%20%20%20%3C%2Fg%3E%0A%3C%2Fsvg%3E%0A&quot;);"></jdiv></jdiv></jdiv></jdiv><jdiv class="jv-pseudo-height"></jdiv><jdiv class="jv-mouse-track"></jdiv></jdiv></jdiv></body></html>
